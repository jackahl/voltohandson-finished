{"ast":null,"code":"import loadable from '@loadable/component';\nconst SentryBrowser = loadable.lib({\n  resolved: {},\n\n  chunkName() {\n    return \"sentry-browser\";\n  },\n\n  isReady(props) {\n    const key = this.resolve(props);\n\n    if (this.resolved[key] !== true) {\n      return false;\n    }\n\n    if (typeof __webpack_modules__ !== 'undefined') {\n      return !!__webpack_modules__[key];\n    }\n\n    return false;\n  },\n\n  importAsync: () => import(\n  /* webpackChunkName: \"sentry-browser\" */\n  '@sentry/browser'),\n\n  requireAsync(props) {\n    const key = this.resolve(props);\n    this.resolved[key] = false;\n    return this.importAsync(props).then(resolved => {\n      this.resolved[key] = true;\n      return resolved;\n    });\n  },\n\n  requireSync(props) {\n    const id = this.resolve(props);\n\n    if (typeof __webpack_require__ !== 'undefined') {\n      return __webpack_require__(id);\n    }\n\n    return eval('module.require')(id);\n  },\n\n  resolve() {\n    if (require.resolveWeak) {\n      return require.resolveWeak(\"@sentry/browser\");\n    }\n\n    return eval('require.resolve')(\"@sentry/browser\");\n  }\n\n});\nconst SentryNode = loadable.lib({\n  resolved: {},\n\n  chunkName() {\n    return \"sentry-browser\";\n  },\n\n  isReady(props) {\n    const key = this.resolve(props);\n\n    if (this.resolved[key] !== true) {\n      return false;\n    }\n\n    if (typeof __webpack_modules__ !== 'undefined') {\n      return !!__webpack_modules__[key];\n    }\n\n    return false;\n  },\n\n  importAsync: () => import(\n  /* webpackChunkName: \"sentry-browser\" */\n  '@sentry/browser'),\n\n  requireAsync(props) {\n    const key = this.resolve(props);\n    this.resolved[key] = false;\n    return this.importAsync(props).then(resolved => {\n      this.resolved[key] = true;\n      return resolved;\n    });\n  },\n\n  requireSync(props) {\n    const id = this.resolve(props);\n\n    if (typeof __webpack_require__ !== 'undefined') {\n      return __webpack_require__(id);\n    }\n\n    return eval('module.require')(id);\n  },\n\n  resolve() {\n    if (require.resolveWeak) {\n      return require.resolveWeak(\"@sentry/browser\");\n    }\n\n    return eval('require.resolve')(\"@sentry/browser\");\n  }\n\n});\n\nconst crashReporter = store => next => action => {\n  try {\n    return next(action);\n  } catch (error) {\n    var _SENTRY__, _process, _process$env, _window, _window$env;\n\n    if ((_SENTRY__ = __SENTRY__) !== null && _SENTRY__ !== void 0 && _SENTRY__.SENTRY_DSN || (_process = process) !== null && _process !== void 0 && (_process$env = _process.env) !== null && _process$env !== void 0 && _process$env.RAZZLE_SENTRY_DSN || (_window = window) !== null && _window !== void 0 && (_window$env = _window.env) !== null && _window$env !== void 0 && _window$env.RAZZLE_SENTRY_DSN) {\n      const loader = __CLIENT__ ? SentryBrowser : SentryNode;\n      loader.load().then(Sentry => {\n        Sentry.withScope(scope => {\n          scope.setExtras({\n            action,\n            state: store.getState()\n          });\n          Sentry.captureException(error);\n        });\n      });\n    }\n\n    throw error;\n  }\n};\n\nexport default crashReporter;","map":{"version":3,"names":["loadable","SentryBrowser","lib","SentryNode","crashReporter","store","next","action","error","__SENTRY__","SENTRY_DSN","process","env","RAZZLE_SENTRY_DSN","window","loader","__CLIENT__","load","then","Sentry","withScope","scope","setExtras","state","getState","captureException"],"sources":["/home/jakob/workspace/training-project/node_modules/@plone/volto/src/middleware/crashReporter.js"],"sourcesContent":["import loadable from '@loadable/component';\n\nconst SentryBrowser = loadable.lib(() => import('@sentry/browser'));\nconst SentryNode = loadable.lib(() => import('@sentry/browser'));\n\nconst crashReporter = (store) => (next) => (action) => {\n  try {\n    return next(action);\n  } catch (error) {\n    if (\n      __SENTRY__?.SENTRY_DSN ||\n      process?.env?.RAZZLE_SENTRY_DSN ||\n      window?.env?.RAZZLE_SENTRY_DSN\n    ) {\n      const loader = __CLIENT__ ? SentryBrowser : SentryNode;\n      loader.load().then((Sentry) => {\n        Sentry.withScope((scope) => {\n          scope.setExtras({\n            action,\n            state: store.getState(),\n          });\n          Sentry.captureException(error);\n        });\n      });\n    }\n    throw error;\n  }\n};\n\nexport default crashReporter;\n"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,qBAArB;AAEA,MAAMC,aAAa,GAAGD,QAAQ,CAACE,GAAT;EAAA;;EAAA;IAAA;EAAA;;EAAA;IAAA;;IAAA;MAAA;IAAA;;IAAA;MAAA;IAAA;;IAAA;EAAA;;EAAA,aAAa,MAAM;EAAA;EAAO,iBAAP,CAAnB;;EAAA;IAAA;IAAA;IAAA;MAAA;MAAA;IAAA;EAAA;;EAAA;IAAA;;IAAA;MAAA;IAAA;;IAAA;EAAA;;EAAA;IAAA;MAAA;IAAA;;IAAA;EAAA;;AAAA,EAAtB;AACA,MAAMC,UAAU,GAAGH,QAAQ,CAACE,GAAT;EAAA;;EAAA;IAAA;EAAA;;EAAA;IAAA;;IAAA;MAAA;IAAA;;IAAA;MAAA;IAAA;;IAAA;EAAA;;EAAA,aAAa,MAAM;EAAA;EAAO,iBAAP,CAAnB;;EAAA;IAAA;IAAA;IAAA;MAAA;MAAA;IAAA;EAAA;;EAAA;IAAA;;IAAA;MAAA;IAAA;;IAAA;EAAA;;EAAA;IAAA;MAAA;IAAA;;IAAA;EAAA;;AAAA,EAAnB;;AAEA,MAAME,aAAa,GAAIC,KAAD,IAAYC,IAAD,IAAWC,MAAD,IAAY;EACrD,IAAI;IACF,OAAOD,IAAI,CAACC,MAAD,CAAX;EACD,CAFD,CAEE,OAAOC,KAAP,EAAc;IAAA;;IACd,IACE,aAAAC,UAAU,UAAV,sCAAYC,UAAZ,gBACAC,OADA,qDACA,SAASC,GADT,yCACA,aAAcC,iBADd,eAEAC,MAFA,mDAEA,QAAQF,GAFR,wCAEA,YAAaC,iBAHf,EAIE;MACA,MAAME,MAAM,GAAGC,UAAU,GAAGf,aAAH,GAAmBE,UAA5C;MACAY,MAAM,CAACE,IAAP,GAAcC,IAAd,CAAoBC,MAAD,IAAY;QAC7BA,MAAM,CAACC,SAAP,CAAkBC,KAAD,IAAW;UAC1BA,KAAK,CAACC,SAAN,CAAgB;YACdf,MADc;YAEdgB,KAAK,EAAElB,KAAK,CAACmB,QAAN;UAFO,CAAhB;UAIAL,MAAM,CAACM,gBAAP,CAAwBjB,KAAxB;QACD,CAND;MAOD,CARD;IASD;;IACD,MAAMA,KAAN;EACD;AACF,CAtBD;;AAwBA,eAAeJ,aAAf"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}