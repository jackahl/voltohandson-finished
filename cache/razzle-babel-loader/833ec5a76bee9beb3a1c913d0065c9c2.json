{"ast":null,"code":"import _isEqual from \"lodash/isEqual\";\nimport React from 'react';\nimport { usePrevious } from './usePrevious';\nimport useDeepCompareEffect from 'use-deep-compare-effect';\n/**\n * A pagination helper that tracks the query and resets pagination in case the\n * query changes.\n */\n\nexport const usePagination = (query, defaultPage = 1) => {\n  const previousQuery = usePrevious(query);\n  const [currentPage, setCurrentPage] = React.useState(defaultPage);\n  useDeepCompareEffect(() => {\n    setCurrentPage(defaultPage);\n  }, [query, previousQuery, defaultPage]);\n  return {\n    currentPage: previousQuery && !_isEqual(previousQuery, query) ? defaultPage : currentPage,\n    setCurrentPage\n  };\n};","map":{"version":3,"names":["React","usePrevious","useDeepCompareEffect","usePagination","query","defaultPage","previousQuery","currentPage","setCurrentPage","useState"],"sources":["/home/jakob/workspace/training-project/node_modules/@plone/volto/src/helpers/Utils/usePagination.js"],"sourcesContent":["import React from 'react';\nimport { isEqual } from 'lodash';\nimport { usePrevious } from './usePrevious';\nimport useDeepCompareEffect from 'use-deep-compare-effect';\n\n/**\n * A pagination helper that tracks the query and resets pagination in case the\n * query changes.\n */\nexport const usePagination = (query, defaultPage = 1) => {\n  const previousQuery = usePrevious(query);\n  const [currentPage, setCurrentPage] = React.useState(defaultPage);\n\n  useDeepCompareEffect(() => {\n    setCurrentPage(defaultPage);\n  }, [query, previousQuery, defaultPage]);\n\n  return {\n    currentPage:\n      previousQuery && !isEqual(previousQuery, query)\n        ? defaultPage\n        : currentPage,\n    setCurrentPage,\n  };\n};\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,WAAT,QAA4B,eAA5B;AACA,OAAOC,oBAAP,MAAiC,yBAAjC;AAEA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,aAAa,GAAG,CAACC,KAAD,EAAQC,WAAW,GAAG,CAAtB,KAA4B;EACvD,MAAMC,aAAa,GAAGL,WAAW,CAACG,KAAD,CAAjC;EACA,MAAM,CAACG,WAAD,EAAcC,cAAd,IAAgCR,KAAK,CAACS,QAAN,CAAeJ,WAAf,CAAtC;EAEAH,oBAAoB,CAAC,MAAM;IACzBM,cAAc,CAACH,WAAD,CAAd;EACD,CAFmB,EAEjB,CAACD,KAAD,EAAQE,aAAR,EAAuBD,WAAvB,CAFiB,CAApB;EAIA,OAAO;IACLE,WAAW,EACTD,aAAa,IAAI,CAAC,SAAQA,aAAR,EAAuBF,KAAvB,CAAlB,GACIC,WADJ,GAEIE,WAJD;IAKLC;EALK,CAAP;AAOD,CAfM"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}