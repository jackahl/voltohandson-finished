{"ast":null,"code":"import _remove from \"lodash/remove\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _isArray from \"lodash/isArray\";\nimport _compact from \"lodash/compact\";\nvar _jsxFileName = \"/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Widgets/ObjectBrowserWidget.jsx\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * ObjectBrowserWidget component.\n * @module components/manage/Widgets/ObjectBrowserWidget\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { Label, Popup, Button } from 'semantic-ui-react';\nimport { flattenToAppURL, isInternalURL, isUrl, normalizeUrl, removeProtocol } from '@plone/volto/helpers/Url/Url';\nimport { searchContent } from '@plone/volto/actions/search/search';\nimport withObjectBrowser from '@plone/volto/components/manage/Sidebar/ObjectBrowser';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport Icon from '@plone/volto/components/theme/Icon/Icon';\nimport FormFieldWrapper from '@plone/volto/components/manage/Widgets/FormFieldWrapper';\nimport navTreeSVG from '@plone/volto/icons/nav.svg';\nimport clearSVG from '@plone/volto/icons/clear.svg';\nimport homeSVG from '@plone/volto/icons/home.svg';\nimport aheadSVG from '@plone/volto/icons/ahead.svg';\nimport blankSVG from '@plone/volto/icons/blank.svg';\nimport { withRouter } from 'react-router';\nconst messages = defineMessages({\n  placeholder: {\n    \"id\": \"No items selected\",\n    \"defaultMessage\": \"No items selected\"\n  },\n  edit: {\n    \"id\": \"Edit\",\n    \"defaultMessage\": \"Edit\"\n  },\n  delete: {\n    \"id\": \"Delete\",\n    \"defaultMessage\": \"Delete\"\n  },\n  openObjectBrowser: {\n    \"id\": \"Open object browser\",\n    \"defaultMessage\": \"Open object browser\"\n  }\n});\n/**\n * ObjectBrowserWidget component class.\n * @class ObjectBrowserWidget\n * @extends Component\n */\n\nexport class ObjectBrowserWidgetComponent extends Component {\n  /**\n   * Property types.\n   * @property {Object} propTypes Property types.\n   * @static\n   */\n\n  /**\n   * Default properties\n   * @property {Object} defaultProps Default properties.\n   * @static\n   */\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      manualLinkInput: '',\n      validURL: false\n    });\n\n    _defineProperty(this, \"removeItem\", item => {\n      let value = [...this.props.value];\n\n      _remove(value, function (_item) {\n        return _item['@id'] === item['@id'];\n      });\n\n      this.props.onChange(this.props.id, value);\n    });\n\n    _defineProperty(this, \"onChange\", item => {\n      var _this$props$widgetOpt, _this$props$widgetOpt2;\n\n      let value = this.props.mode === 'multiple' && this.props.value ? [...this.props.value] : [];\n      value = value.filter(item => item != null);\n      const maxSize = ((_this$props$widgetOpt = this.props.widgetOptions) === null || _this$props$widgetOpt === void 0 ? void 0 : (_this$props$widgetOpt2 = _this$props$widgetOpt.pattern_options) === null || _this$props$widgetOpt2 === void 0 ? void 0 : _this$props$widgetOpt2.maximumSelectionSize) || -1;\n\n      if (maxSize === 1 && value.length === 1) {\n        value = []; //enable replace of selected item with another value, if maxsize is 1\n      }\n\n      let exists = false;\n      let index = -1;\n      value.forEach((_item, _index) => {\n        if (flattenToAppURL(_item['@id']) === flattenToAppURL(item['@id'])) {\n          exists = true;\n          index = _index;\n        }\n      }); //find(value, {\n      //   '@id': flattenToAppURL(item['@id']),\n      // });\n\n      if (!exists) {\n        // add item\n        // Check if we want to filter the attributes of the selected item\n        let resultantItem = item;\n\n        if (this.props.selectedItemAttrs) {\n          const allowedItemKeys = [...this.props.selectedItemAttrs, // Add the required attributes for the widget to work\n          '@id', 'title'];\n          resultantItem = Object.keys(item).filter(key => allowedItemKeys.includes(key)).reduce((obj, key) => {\n            obj[key] = item[key];\n            return obj;\n          }, {});\n        } // Add required @id field, just in case\n\n\n        resultantItem = _objectSpread(_objectSpread({}, resultantItem), {}, {\n          '@id': item['@id']\n        });\n        value.push(resultantItem);\n\n        if (this.props.return === 'single') {\n          this.props.onChange(this.props.id, value[0]);\n        } else {\n          this.props.onChange(this.props.id, value);\n        }\n      } else {\n        //remove item\n        value.splice(index, 1);\n        this.props.onChange(this.props.id, value);\n      }\n    });\n\n    _defineProperty(this, \"onManualLinkInput\", e => {\n      this.setState({\n        manualLinkInput: e.target.value\n      });\n\n      if (this.validateManualLink(e.target.value)) {\n        this.setState({\n          validURL: true\n        });\n      } else {\n        this.setState({\n          validURL: false\n        });\n      }\n    });\n\n    _defineProperty(this, \"validateManualLink\", url => {\n      if (this.props.allowExternals) {\n        return isUrl(url);\n      } else {\n        return isInternalURL(url);\n      }\n    });\n\n    _defineProperty(this, \"onSubmitManualLink\", () => {\n      if (this.validateManualLink(this.state.manualLinkInput)) {\n        if (isInternalURL(this.state.manualLinkInput)) {\n          const link = this.state.manualLinkInput; // convert it into an internal on if possible\n\n          this.props.searchContent('/', {\n            'path.query': flattenToAppURL(this.state.manualLinkInput),\n            'path.depth': '0',\n            sort_on: 'getObjPositionInParent',\n            metadata_fields: '_all',\n            b_size: 1000\n          }, `${this.props.block}-${this.props.mode}`).then(resp => {\n            var _resp$items;\n\n            if (((_resp$items = resp.items) === null || _resp$items === void 0 ? void 0 : _resp$items.length) > 0) {\n              this.onChange(resp.items[0]);\n            } else {\n              this.props.onChange(this.props.id, [{\n                '@id': flattenToAppURL(link),\n                title: removeProtocol(link)\n              }]);\n            }\n          });\n        } else {\n          this.props.onChange(this.props.id, [{\n            '@id': normalizeUrl(this.state.manualLinkInput),\n            title: removeProtocol(this.state.manualLinkInput)\n          }]);\n        }\n\n        this.setState({\n          validURL: true,\n          manualLinkInput: ''\n        });\n      }\n    });\n\n    _defineProperty(this, \"onKeyDownManualLink\", e => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        e.stopPropagation();\n        this.onSubmitManualLink();\n      } else if (e.key === 'Escape') {\n        e.preventDefault();\n        e.stopPropagation(); // TODO: Do something on ESC key\n      }\n    });\n\n    _defineProperty(this, \"showObjectBrowser\", ev => {\n      var _this$props$widgetOpt3, _this$props$widgetOpt4, _this$props$widgetOpt5, _this$props$widgetOpt6;\n\n      ev.preventDefault();\n      this.props.openObjectBrowser({\n        mode: this.props.mode,\n        currentPath: this.props.initialPath || this.props.location.pathname,\n        propDataName: 'value',\n        onSelectItem: (url, item) => {\n          this.onChange(item);\n        },\n        selectableTypes: ((_this$props$widgetOpt3 = this.props.widgetOptions) === null || _this$props$widgetOpt3 === void 0 ? void 0 : (_this$props$widgetOpt4 = _this$props$widgetOpt3.pattern_options) === null || _this$props$widgetOpt4 === void 0 ? void 0 : _this$props$widgetOpt4.selectableTypes) || this.props.selectableTypes,\n        maximumSelectionSize: ((_this$props$widgetOpt5 = this.props.widgetOptions) === null || _this$props$widgetOpt5 === void 0 ? void 0 : (_this$props$widgetOpt6 = _this$props$widgetOpt5.pattern_options) === null || _this$props$widgetOpt6 === void 0 ? void 0 : _this$props$widgetOpt6.maximumSelectionSize) || this.props.maximumSelectionSize\n      });\n    });\n\n    _defineProperty(this, \"handleSelectedItemsRefClick\", e => {\n      if (this.props.isDisabled) {\n        return;\n      }\n\n      if (e.target.contains(this.selectedItemsRef.current) || e.target.contains(this.placeholderRef.current)) {\n        this.showObjectBrowser(e);\n      }\n    });\n\n    this.selectedItemsRef = /*#__PURE__*/React.createRef();\n    this.placeholderRef = /*#__PURE__*/React.createRef();\n  }\n\n  renderLabel(item) {\n    const href = item['@id'];\n    return __jsx(Popup, {\n      key: flattenToAppURL(href),\n      content: __jsx(\"div\", {\n        style: {\n          display: 'flex'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }\n      }, isInternalURL(href) ? __jsx(Icon, {\n        name: homeSVG,\n        size: \"18px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }\n      }) : __jsx(Icon, {\n        name: blankSVG,\n        size: \"18px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 15\n        }\n      }), \"\\xA0\", flattenToAppURL(href)),\n      trigger: __jsx(Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }\n      }, __jsx(\"div\", {\n        className: \"item-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }\n      }, item.title), __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }\n      }, this.props.mode === 'multiple' && __jsx(Icon, {\n        name: clearSVG,\n        size: \"12px\",\n        className: \"right\",\n        onClick: event => {\n          event.preventDefault();\n          this.removeItem(item);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }\n      }))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }\n    });\n  }\n\n  /**\n   * Render method.\n   * @method render\n   * @returns {string} Markup for the component.\n   */\n  render() {\n    var _this$props$placehold, _this$props$placehold2;\n\n    const {\n      id,\n      description,\n      fieldSet,\n      value,\n      mode,\n      onChange,\n      isDisabled\n    } = this.props;\n\n    let items = _compact(!_isArray(value) && value ? [value] : value || []);\n\n    let icon = mode === 'multiple' || items.length === 0 ? navTreeSVG : clearSVG;\n    let iconAction = mode === 'multiple' || items.length === 0 ? this.showObjectBrowser : e => {\n      e.preventDefault();\n      onChange(id, this.props.return === 'single' ? null : []);\n    };\n    return __jsx(FormFieldWrapper, _extends({}, this.props, {\n      className: description ? 'help text' : 'text',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 7\n      }\n    }), __jsx(\"div\", {\n      className: \"objectbrowser-field\",\n      \"aria-labelledby\": `fieldset-${fieldSet || 'default'}-field-label-${id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"selected-values\",\n      onClick: this.handleSelectedItemsRefClick,\n      onKeyDown: this.handleSelectedItemsRefClick,\n      role: \"searchbox\",\n      tabIndex: 0,\n      ref: this.selectedItemsRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }\n    }, items.map(item => this.renderLabel(item)), items.length === 0 && this.props.mode === 'multiple' && __jsx(\"div\", {\n      className: \"placeholder\",\n      ref: this.placeholderRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 15\n      }\n    }, (_this$props$placehold = this.props.placeholder) !== null && _this$props$placehold !== void 0 ? _this$props$placehold : this.props.intl.formatMessage(messages.placeholder)), this.props.allowExternals && items.length === 0 && this.props.mode !== 'multiple' && __jsx(\"input\", {\n      onKeyDown: this.onKeyDownManualLink,\n      onChange: this.onManualLinkInput,\n      value: this.state.manualLinkInput,\n      placeholder: (_this$props$placehold2 = this.props.placeholder) !== null && _this$props$placehold2 !== void 0 ? _this$props$placehold2 : this.props.intl.formatMessage(messages.placeholder),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 17\n      }\n    })), this.state.manualLinkInput && _isEmpty(items) && __jsx(Button.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 13\n      }\n    }, __jsx(Button, {\n      basic: true,\n      className: \"cancel\",\n      onClick: e => {\n        e.stopPropagation();\n        this.setState({\n          manualLinkInput: ''\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 15\n      }\n    }, __jsx(Icon, {\n      name: clearSVG,\n      size: \"18px\",\n      color: \"#e40166\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 17\n      }\n    })), __jsx(Button, {\n      basic: true,\n      primary: true,\n      disabled: !this.state.validURL,\n      onClick: e => {\n        e.stopPropagation();\n        this.onSubmitManualLink();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 15\n      }\n    }, __jsx(Icon, {\n      name: aheadSVG,\n      size: \"18px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 17\n      }\n    }))), !this.state.manualLinkInput && __jsx(Button, {\n      \"aria-label\": this.props.intl.formatMessage(messages.openObjectBrowser),\n      onClick: iconAction,\n      className: \"action\",\n      disabled: isDisabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 13\n      }\n    }, __jsx(Icon, {\n      name: icon,\n      size: \"18px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 15\n      }\n    }))));\n  }\n\n}\n\n_defineProperty(ObjectBrowserWidgetComponent, \"propTypes\", {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  mode: PropTypes.string,\n  // link, image, multiple\n  return: PropTypes.string,\n  // single, multiple\n  initialPath: PropTypes.string,\n  required: PropTypes.bool,\n  error: PropTypes.arrayOf(PropTypes.string),\n  value: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.object), PropTypes.object]),\n  onChange: PropTypes.func.isRequired,\n  openObjectBrowser: PropTypes.func.isRequired,\n  allowExternals: PropTypes.bool,\n  placeholder: PropTypes.string\n});\n\n_defineProperty(ObjectBrowserWidgetComponent, \"defaultProps\", {\n  description: null,\n  required: false,\n  error: [],\n  value: [],\n  mode: 'multiple',\n  return: 'multiple',\n  initialPath: '',\n  allowExternals: false\n});\n\nconst ObjectBrowserWidgetMode = mode => compose(injectIntl, withObjectBrowser, withRouter, connect(null, {\n  searchContent\n}))(props => __jsx(ObjectBrowserWidgetComponent, _extends({}, props, {\n  mode: mode,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 427,\n    columnNumber: 16\n  }\n})));\n\nexport { ObjectBrowserWidgetMode };\nexport default compose(injectIntl, withObjectBrowser, withRouter, connect(null, {\n  searchContent\n}))(ObjectBrowserWidgetComponent);","map":{"version":3,"names":["React","Component","PropTypes","compose","connect","Label","Popup","Button","flattenToAppURL","isInternalURL","isUrl","normalizeUrl","removeProtocol","searchContent","withObjectBrowser","defineMessages","injectIntl","Icon","FormFieldWrapper","navTreeSVG","clearSVG","homeSVG","aheadSVG","blankSVG","withRouter","messages","placeholder","edit","delete","openObjectBrowser","ObjectBrowserWidgetComponent","constructor","props","manualLinkInput","validURL","item","value","_item","onChange","id","mode","filter","maxSize","widgetOptions","pattern_options","maximumSelectionSize","length","exists","index","forEach","_index","resultantItem","selectedItemAttrs","allowedItemKeys","Object","keys","key","includes","reduce","obj","push","return","splice","e","setState","target","validateManualLink","url","allowExternals","state","link","sort_on","metadata_fields","b_size","block","then","resp","items","title","preventDefault","stopPropagation","onSubmitManualLink","ev","currentPath","initialPath","location","pathname","propDataName","onSelectItem","selectableTypes","isDisabled","contains","selectedItemsRef","current","placeholderRef","showObjectBrowser","createRef","renderLabel","href","display","event","removeItem","render","description","fieldSet","icon","iconAction","handleSelectedItemsRefClick","map","intl","formatMessage","onKeyDownManualLink","onManualLinkInput","string","isRequired","required","bool","error","arrayOf","oneOfType","object","func","ObjectBrowserWidgetMode"],"sources":["/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Widgets/ObjectBrowserWidget.jsx"],"sourcesContent":["/**\n * ObjectBrowserWidget component.\n * @module components/manage/Widgets/ObjectBrowserWidget\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { compact, isArray, isEmpty, remove } from 'lodash';\nimport { connect } from 'react-redux';\nimport { Label, Popup, Button } from 'semantic-ui-react';\nimport {\n  flattenToAppURL,\n  isInternalURL,\n  isUrl,\n  normalizeUrl,\n  removeProtocol,\n} from '@plone/volto/helpers/Url/Url';\nimport { searchContent } from '@plone/volto/actions/search/search';\nimport withObjectBrowser from '@plone/volto/components/manage/Sidebar/ObjectBrowser';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport Icon from '@plone/volto/components/theme/Icon/Icon';\nimport FormFieldWrapper from '@plone/volto/components/manage/Widgets/FormFieldWrapper';\n\nimport navTreeSVG from '@plone/volto/icons/nav.svg';\nimport clearSVG from '@plone/volto/icons/clear.svg';\nimport homeSVG from '@plone/volto/icons/home.svg';\nimport aheadSVG from '@plone/volto/icons/ahead.svg';\nimport blankSVG from '@plone/volto/icons/blank.svg';\nimport { withRouter } from 'react-router';\n\nconst messages = defineMessages({\n  placeholder: {\n    id: 'No items selected',\n    defaultMessage: 'No items selected',\n  },\n  edit: {\n    id: 'Edit',\n    defaultMessage: 'Edit',\n  },\n  delete: {\n    id: 'Delete',\n    defaultMessage: 'Delete',\n  },\n  openObjectBrowser: {\n    id: 'Open object browser',\n    defaultMessage: 'Open object browser',\n  },\n});\n\n/**\n * ObjectBrowserWidget component class.\n * @class ObjectBrowserWidget\n * @extends Component\n */\nexport class ObjectBrowserWidgetComponent extends Component {\n  /**\n   * Property types.\n   * @property {Object} propTypes Property types.\n   * @static\n   */\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    description: PropTypes.string,\n    mode: PropTypes.string, // link, image, multiple\n    return: PropTypes.string, // single, multiple\n    initialPath: PropTypes.string,\n    required: PropTypes.bool,\n    error: PropTypes.arrayOf(PropTypes.string),\n    value: PropTypes.oneOfType([\n      PropTypes.arrayOf(PropTypes.object),\n      PropTypes.object,\n    ]),\n    onChange: PropTypes.func.isRequired,\n    openObjectBrowser: PropTypes.func.isRequired,\n    allowExternals: PropTypes.bool,\n    placeholder: PropTypes.string,\n  };\n\n  /**\n   * Default properties\n   * @property {Object} defaultProps Default properties.\n   * @static\n   */\n  static defaultProps = {\n    description: null,\n    required: false,\n    error: [],\n    value: [],\n    mode: 'multiple',\n    return: 'multiple',\n    initialPath: '',\n    allowExternals: false,\n  };\n\n  state = {\n    manualLinkInput: '',\n    validURL: false,\n  };\n\n  constructor(props) {\n    super(props);\n    this.selectedItemsRef = React.createRef();\n    this.placeholderRef = React.createRef();\n  }\n  renderLabel(item) {\n    const href = item['@id'];\n    return (\n      <Popup\n        key={flattenToAppURL(href)}\n        content={\n          <div style={{ display: 'flex' }}>\n            {isInternalURL(href) ? (\n              <Icon name={homeSVG} size=\"18px\" />\n            ) : (\n              <Icon name={blankSVG} size=\"18px\" />\n            )}\n            &nbsp;\n            {flattenToAppURL(href)}\n          </div>\n        }\n        trigger={\n          <Label>\n            <div className=\"item-title\">{item.title}</div>\n            <div>\n              {this.props.mode === 'multiple' && (\n                <Icon\n                  name={clearSVG}\n                  size=\"12px\"\n                  className=\"right\"\n                  onClick={(event) => {\n                    event.preventDefault();\n                    this.removeItem(item);\n                  }}\n                />\n              )}\n            </div>\n          </Label>\n        }\n      />\n    );\n  }\n\n  removeItem = (item) => {\n    let value = [...this.props.value];\n    remove(value, function (_item) {\n      return _item['@id'] === item['@id'];\n    });\n    this.props.onChange(this.props.id, value);\n  };\n\n  onChange = (item) => {\n    let value =\n      this.props.mode === 'multiple' && this.props.value\n        ? [...this.props.value]\n        : [];\n    value = value.filter((item) => item != null);\n    const maxSize =\n      this.props.widgetOptions?.pattern_options?.maximumSelectionSize || -1;\n    if (maxSize === 1 && value.length === 1) {\n      value = []; //enable replace of selected item with another value, if maxsize is 1\n    }\n    let exists = false;\n    let index = -1;\n    value.forEach((_item, _index) => {\n      if (flattenToAppURL(_item['@id']) === flattenToAppURL(item['@id'])) {\n        exists = true;\n        index = _index;\n      }\n    });\n    //find(value, {\n    //   '@id': flattenToAppURL(item['@id']),\n    // });\n    if (!exists) {\n      // add item\n      // Check if we want to filter the attributes of the selected item\n      let resultantItem = item;\n      if (this.props.selectedItemAttrs) {\n        const allowedItemKeys = [\n          ...this.props.selectedItemAttrs,\n          // Add the required attributes for the widget to work\n          '@id',\n          'title',\n        ];\n        resultantItem = Object.keys(item)\n          .filter((key) => allowedItemKeys.includes(key))\n          .reduce((obj, key) => {\n            obj[key] = item[key];\n            return obj;\n          }, {});\n      }\n      // Add required @id field, just in case\n      resultantItem = { ...resultantItem, '@id': item['@id'] };\n      value.push(resultantItem);\n      if (this.props.return === 'single') {\n        this.props.onChange(this.props.id, value[0]);\n      } else {\n        this.props.onChange(this.props.id, value);\n      }\n    } else {\n      //remove item\n      value.splice(index, 1);\n      this.props.onChange(this.props.id, value);\n    }\n  };\n\n  onManualLinkInput = (e) => {\n    this.setState({ manualLinkInput: e.target.value });\n    if (this.validateManualLink(e.target.value)) {\n      this.setState({ validURL: true });\n    } else {\n      this.setState({ validURL: false });\n    }\n  };\n\n  validateManualLink = (url) => {\n    if (this.props.allowExternals) {\n      return isUrl(url);\n    } else {\n      return isInternalURL(url);\n    }\n  };\n\n  onSubmitManualLink = () => {\n    if (this.validateManualLink(this.state.manualLinkInput)) {\n      if (isInternalURL(this.state.manualLinkInput)) {\n        const link = this.state.manualLinkInput;\n        // convert it into an internal on if possible\n        this.props\n          .searchContent(\n            '/',\n            {\n              'path.query': flattenToAppURL(this.state.manualLinkInput),\n              'path.depth': '0',\n              sort_on: 'getObjPositionInParent',\n              metadata_fields: '_all',\n              b_size: 1000,\n            },\n            `${this.props.block}-${this.props.mode}`,\n          )\n          .then((resp) => {\n            if (resp.items?.length > 0) {\n              this.onChange(resp.items[0]);\n            } else {\n              this.props.onChange(this.props.id, [\n                {\n                  '@id': flattenToAppURL(link),\n                  title: removeProtocol(link),\n                },\n              ]);\n            }\n          });\n      } else {\n        this.props.onChange(this.props.id, [\n          {\n            '@id': normalizeUrl(this.state.manualLinkInput),\n            title: removeProtocol(this.state.manualLinkInput),\n          },\n        ]);\n      }\n      this.setState({ validURL: true, manualLinkInput: '' });\n    }\n  };\n\n  onKeyDownManualLink = (e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      e.stopPropagation();\n      this.onSubmitManualLink();\n    } else if (e.key === 'Escape') {\n      e.preventDefault();\n      e.stopPropagation();\n      // TODO: Do something on ESC key\n    }\n  };\n\n  showObjectBrowser = (ev) => {\n    ev.preventDefault();\n    this.props.openObjectBrowser({\n      mode: this.props.mode,\n      currentPath: this.props.initialPath || this.props.location.pathname,\n      propDataName: 'value',\n      onSelectItem: (url, item) => {\n        this.onChange(item);\n      },\n      selectableTypes:\n        this.props.widgetOptions?.pattern_options?.selectableTypes ||\n        this.props.selectableTypes,\n      maximumSelectionSize:\n        this.props.widgetOptions?.pattern_options?.maximumSelectionSize ||\n        this.props.maximumSelectionSize,\n    });\n  };\n\n  handleSelectedItemsRefClick = (e) => {\n    if (this.props.isDisabled) {\n      return;\n    }\n\n    if (\n      e.target.contains(this.selectedItemsRef.current) ||\n      e.target.contains(this.placeholderRef.current)\n    ) {\n      this.showObjectBrowser(e);\n    }\n  };\n\n  /**\n   * Render method.\n   * @method render\n   * @returns {string} Markup for the component.\n   */\n  render() {\n    const {\n      id,\n      description,\n      fieldSet,\n      value,\n      mode,\n      onChange,\n      isDisabled,\n    } = this.props;\n\n    let items = compact(!isArray(value) && value ? [value] : value || []);\n\n    let icon =\n      mode === 'multiple' || items.length === 0 ? navTreeSVG : clearSVG;\n    let iconAction =\n      mode === 'multiple' || items.length === 0\n        ? this.showObjectBrowser\n        : (e) => {\n            e.preventDefault();\n            onChange(id, this.props.return === 'single' ? null : []);\n          };\n\n    return (\n      <FormFieldWrapper\n        {...this.props}\n        className={description ? 'help text' : 'text'}\n      >\n        <div\n          className=\"objectbrowser-field\"\n          aria-labelledby={`fieldset-${\n            fieldSet || 'default'\n          }-field-label-${id}`}\n        >\n          <div\n            className=\"selected-values\"\n            onClick={this.handleSelectedItemsRefClick}\n            onKeyDown={this.handleSelectedItemsRefClick}\n            role=\"searchbox\"\n            tabIndex={0}\n            ref={this.selectedItemsRef}\n          >\n            {items.map((item) => this.renderLabel(item))}\n\n            {items.length === 0 && this.props.mode === 'multiple' && (\n              <div className=\"placeholder\" ref={this.placeholderRef}>\n                {this.props.placeholder ??\n                  this.props.intl.formatMessage(messages.placeholder)}\n              </div>\n            )}\n            {this.props.allowExternals &&\n              items.length === 0 &&\n              this.props.mode !== 'multiple' && (\n                <input\n                  onKeyDown={this.onKeyDownManualLink}\n                  onChange={this.onManualLinkInput}\n                  value={this.state.manualLinkInput}\n                  placeholder={\n                    this.props.placeholder ??\n                    this.props.intl.formatMessage(messages.placeholder)\n                  }\n                />\n              )}\n          </div>\n          {this.state.manualLinkInput && isEmpty(items) && (\n            <Button.Group>\n              <Button\n                basic\n                className=\"cancel\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  this.setState({ manualLinkInput: '' });\n                }}\n              >\n                <Icon name={clearSVG} size=\"18px\" color=\"#e40166\" />\n              </Button>\n              <Button\n                basic\n                primary\n                disabled={!this.state.validURL}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  this.onSubmitManualLink();\n                }}\n              >\n                <Icon name={aheadSVG} size=\"18px\" />\n              </Button>\n            </Button.Group>\n          )}\n          {!this.state.manualLinkInput && (\n            <Button\n              aria-label={this.props.intl.formatMessage(\n                messages.openObjectBrowser,\n              )}\n              onClick={iconAction}\n              className=\"action\"\n              disabled={isDisabled}\n            >\n              <Icon name={icon} size=\"18px\" />\n            </Button>\n          )}\n        </div>\n      </FormFieldWrapper>\n    );\n  }\n}\n\nconst ObjectBrowserWidgetMode = (mode) =>\n  compose(\n    injectIntl,\n    withObjectBrowser,\n    withRouter,\n    connect(null, { searchContent }),\n  )((props) => <ObjectBrowserWidgetComponent {...props} mode={mode} />);\nexport { ObjectBrowserWidgetMode };\nexport default compose(\n  injectIntl,\n  withObjectBrowser,\n  withRouter,\n  connect(null, { searchContent }),\n)(ObjectBrowserWidgetComponent);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"No items selected","defaultMessage":"No items selected"},{"id":"Edit","defaultMessage":"Edit"},{"id":"Delete","defaultMessage":"Delete"},{"id":"Open object browser","defaultMessage":"Open object browser"}]}},"sourceType":"module"}