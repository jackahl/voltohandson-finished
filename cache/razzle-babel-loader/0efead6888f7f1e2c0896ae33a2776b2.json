{"ast":null,"code":"var _jsxFileName = \"/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Sidebar/ObjectBrowserNav.jsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Button, Segment, Popup } from 'semantic-ui-react';\nimport { useIntl, defineMessages } from 'react-intl';\nimport cx from 'classnames';\nimport Icon from '@plone/volto/components/theme/Icon/Icon';\nimport { flattenToAppURL, getContentIcon } from '@plone/volto/helpers';\nimport config from '@plone/volto/registry';\nimport rightArrowSVG from '@plone/volto/icons/right-key.svg';\nimport homeSVG from '@plone/volto/icons/home.svg';\nconst messages = defineMessages({\n  browse: {\n    \"id\": \"Browse\",\n    \"defaultMessage\": \"Browse\"\n  },\n  select: {\n    \"id\": \"Select\",\n    \"defaultMessage\": \"Select\"\n  }\n});\n\nconst ObjectBrowserNav = ({\n  currentSearchResults,\n  selected,\n  handleClickOnItem,\n  handleDoubleClickOnItem,\n  mode,\n  navigateTo,\n  isSelectable\n}) => {\n  const intl = useIntl();\n\n  const isSelected = item => {\n    let ret = false;\n\n    if (selected) {\n      selected.filter(item => item != null).forEach(_item => {\n        if (flattenToAppURL(_item['@id']) === flattenToAppURL(item['@id'])) {\n          ret = true;\n        }\n      });\n    }\n\n    return ret;\n  };\n\n  return __jsx(Segment, {\n    as: \"ul\",\n    className: \"object-listing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, currentSearchResults && currentSearchResults.items.map(item => __jsx(\"li\", {\n    role: \"presentation\",\n    \"aria-label\": item.is_folderish && mode === 'image' ? `${intl.formatMessage(messages.browse)} ${item.title}` : `${intl.formatMessage(messages.select)} ${item.title}`,\n    key: item['@id'],\n    className: cx('', {\n      'selected-item': isSelected(item),\n      disabled: mode === 'image' ? !config.settings.imageObjects.includes(item['@type']) && !item.is_folderish : !isSelectable(item)\n    }),\n    onClick: () => handleClickOnItem(item),\n    onDoubleClick: () => handleDoubleClickOnItem(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    title: `${item['@id']} (${item['@type']})`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, __jsx(Popup, {\n    key: item['@id'],\n    content: __jsx(React.Fragment, null, __jsx(Icon, {\n      name: homeSVG,\n      size: \"18px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }), ' ', flattenToAppURL(item['@id']), \" ( \", item['@type'], \")\"),\n    trigger: __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }\n    }, __jsx(Icon, {\n      name: getContentIcon(item['@type'], item.is_folderish),\n      size: \"24px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }), item.title), item.is_folderish && mode === 'image' && __jsx(Icon, {\n    className: \"right-arrow-icon\",\n    name: rightArrowSVG,\n    size: \"24px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }), item.is_folderish && (mode === 'link' || mode === 'multiple') && __jsx(\"div\", {\n    role: \"presentation\",\n    className: \"right-arrow-link-mode\",\n    onClick: e => {\n      e.stopPropagation();\n      navigateTo(item['@id']);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, __jsx(Button.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    basic: true,\n    icon: true,\n    \"aria-label\": `${intl.formatMessage(messages.browse)} ${item.title}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }, __jsx(Icon, {\n    className: \"right-arrow-icon\",\n    name: rightArrowSVG,\n    size: \"24px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  })))))));\n};\n\nexport default ObjectBrowserNav;","map":{"version":3,"names":["React","Button","Segment","Popup","useIntl","defineMessages","cx","Icon","flattenToAppURL","getContentIcon","config","rightArrowSVG","homeSVG","messages","browse","select","ObjectBrowserNav","currentSearchResults","selected","handleClickOnItem","handleDoubleClickOnItem","mode","navigateTo","isSelectable","intl","isSelected","item","ret","filter","forEach","_item","items","map","is_folderish","formatMessage","title","disabled","settings","imageObjects","includes","e","stopPropagation"],"sources":["/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Sidebar/ObjectBrowserNav.jsx"],"sourcesContent":["import React from 'react';\nimport { Button, Segment, Popup } from 'semantic-ui-react';\nimport { useIntl, defineMessages } from 'react-intl';\nimport cx from 'classnames';\nimport Icon from '@plone/volto/components/theme/Icon/Icon';\nimport { flattenToAppURL, getContentIcon } from '@plone/volto/helpers';\nimport config from '@plone/volto/registry';\n\nimport rightArrowSVG from '@plone/volto/icons/right-key.svg';\nimport homeSVG from '@plone/volto/icons/home.svg';\n\nconst messages = defineMessages({\n  browse: {\n    id: 'Browse',\n    defaultMessage: 'Browse',\n  },\n  select: {\n    id: 'Select',\n    defaultMessage: 'Select',\n  },\n});\n\nconst ObjectBrowserNav = ({\n  currentSearchResults,\n  selected,\n  handleClickOnItem,\n  handleDoubleClickOnItem,\n  mode,\n  navigateTo,\n  isSelectable,\n}) => {\n  const intl = useIntl();\n  const isSelected = (item) => {\n    let ret = false;\n    if (selected) {\n      selected\n        .filter((item) => item != null)\n        .forEach((_item) => {\n          if (flattenToAppURL(_item['@id']) === flattenToAppURL(item['@id'])) {\n            ret = true;\n          }\n        });\n    }\n    return ret;\n  };\n\n  return (\n    <Segment as=\"ul\" className=\"object-listing\">\n      {currentSearchResults &&\n        currentSearchResults.items.map((item) => (\n          <li\n            role=\"presentation\"\n            aria-label={\n              item.is_folderish && mode === 'image'\n                ? `${intl.formatMessage(messages.browse)} ${item.title}`\n                : `${intl.formatMessage(messages.select)} ${item.title}`\n            }\n            key={item['@id']}\n            className={cx('', {\n              'selected-item': isSelected(item),\n\n              disabled:\n                mode === 'image'\n                  ? !config.settings.imageObjects.includes(item['@type']) &&\n                    !item.is_folderish\n                  : !isSelectable(item),\n            })}\n            onClick={() => handleClickOnItem(item)}\n            onDoubleClick={() => handleDoubleClickOnItem(item)}\n          >\n            <span title={`${item['@id']} (${item['@type']})`}>\n              <Popup\n                key={item['@id']}\n                content={\n                  <>\n                    <Icon name={homeSVG} size=\"18px\" />{' '}\n                    {flattenToAppURL(item['@id'])} ( {item['@type']})\n                  </>\n                }\n                trigger={\n                  <span>\n                    <Icon\n                      name={getContentIcon(item['@type'], item.is_folderish)}\n                      size=\"24px\"\n                    />\n                  </span>\n                }\n              />\n\n              {item.title}\n            </span>\n            {item.is_folderish && mode === 'image' && (\n              <Icon\n                className=\"right-arrow-icon\"\n                name={rightArrowSVG}\n                size=\"24px\"\n              />\n            )}\n            {item.is_folderish && (mode === 'link' || mode === 'multiple') && (\n              <div\n                role=\"presentation\"\n                className=\"right-arrow-link-mode\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  navigateTo(item['@id']);\n                }}\n              >\n                <Button.Group>\n                  <Button\n                    basic\n                    icon\n                    aria-label={`${intl.formatMessage(messages.browse)} ${\n                      item.title\n                    }`}\n                  >\n                    <Icon\n                      className=\"right-arrow-icon\"\n                      name={rightArrowSVG}\n                      size=\"24px\"\n                    />\n                  </Button>\n                </Button.Group>\n              </div>\n            )}\n          </li>\n        ))}\n    </Segment>\n  );\n};\n\nexport default ObjectBrowserNav;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"Browse","defaultMessage":"Browse"},{"id":"Select","defaultMessage":"Select"}]}},"sourceType":"module"}