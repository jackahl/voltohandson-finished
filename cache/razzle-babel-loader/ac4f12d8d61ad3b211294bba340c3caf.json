{"ast":null,"code":"/* eslint no-console: 0 */\nimport http from 'http';\nimport app from './server';\nimport debug from 'debug';\nimport * as Sentry from '@sentry/node';\nimport * as SentryIntegrations from '@sentry/integrations';\nimport initSentry from '@plone/volto/sentry';\ninitSentry({\n  Sentry,\n  SentryIntegrations\n});\nexport default (() => {\n  const server = http.createServer(app); // const host = process.env.HOST || 'localhost';\n\n  const port = process.env.PORT || 3000;\n  const bind_address = process.env.RAZZLE_BIND_ADDRESS || '0.0.0.0';\n  let currentApp = app;\n  server.listen(port, bind_address, () => {\n    if (app.apiPath === app.publicURL || !app.apiPath) {\n      console.log(`Volto is running in SEAMLESS mode`);\n    } else {\n      console.log(`API server (API_PATH) is set to: ${app.apiPath}`);\n    }\n\n    if (__DEVELOPMENT__ && app.devProxyToApiPath) console.log(`Using internal proxy: ${app.publicURL} -> ${app.devProxyToApiPath}`);\n    console.log(`üé≠ Volto started at ${bind_address}:${port} üöÄ`);\n    if (!process.env.RAZZLE_PUBLIC_URL) debug('config')(`Current public URL: ${app.publicURL}`);\n  }).on('error', e => {\n    console.error(e.message);\n    throw e;\n  });\n  return () => {\n    console.log('‚úÖ  Server-side HMR Enabled!');\n    module.hot.accept('./server', () => {\n      console.log('üîÅ  HMR Reloading `./server`...');\n      server.removeListener('request', currentApp);\n\n      const newApp = require('./server').default; // eslint-disable-line global-require\n\n\n      server.on('request', newApp);\n      currentApp = newApp;\n    });\n  };\n});","map":{"version":3,"names":["http","app","debug","Sentry","SentryIntegrations","initSentry","server","createServer","port","process","env","PORT","bind_address","RAZZLE_BIND_ADDRESS","currentApp","listen","apiPath","publicURL","console","log","__DEVELOPMENT__","devProxyToApiPath","RAZZLE_PUBLIC_URL","on","e","error","message","module","hot","accept","removeListener","newApp","require","default"],"sources":["/home/jakob/workspace/training-project/node_modules/@plone/volto/src/start-server.js"],"sourcesContent":["/* eslint no-console: 0 */\nimport http from 'http';\n\nimport app from './server';\nimport debug from 'debug';\n\nimport * as Sentry from '@sentry/node';\nimport * as SentryIntegrations from '@sentry/integrations';\n\nimport initSentry from '@plone/volto/sentry';\n\ninitSentry({ Sentry, SentryIntegrations });\n\nexport default () => {\n  const server = http.createServer(app);\n  // const host = process.env.HOST || 'localhost';\n  const port = process.env.PORT || 3000;\n  const bind_address = process.env.RAZZLE_BIND_ADDRESS || '0.0.0.0';\n\n  let currentApp = app;\n\n  server\n    .listen(port, bind_address, () => {\n      if (app.apiPath === app.publicURL || !app.apiPath) {\n        console.log(`Volto is running in SEAMLESS mode`);\n      } else {\n        console.log(`API server (API_PATH) is set to: ${app.apiPath}`);\n      }\n      if (__DEVELOPMENT__ && app.devProxyToApiPath)\n        console.log(\n          `Using internal proxy: ${app.publicURL} -> ${app.devProxyToApiPath}`,\n        );\n      console.log(`üé≠ Volto started at ${bind_address}:${port} üöÄ`);\n\n      if (!process.env.RAZZLE_PUBLIC_URL)\n        debug('config')(`Current public URL: ${app.publicURL}`);\n    })\n    .on('error', (e) => {\n      console.error(e.message);\n      throw e;\n    });\n\n  return () => {\n    console.log('‚úÖ  Server-side HMR Enabled!');\n\n    module.hot.accept('./server', () => {\n      console.log('üîÅ  HMR Reloading `./server`...');\n      server.removeListener('request', currentApp);\n      const newApp = require('./server').default; // eslint-disable-line global-require\n      server.on('request', newApp);\n      currentApp = newApp;\n    });\n  };\n};\n"],"mappings":"AAAA;AACA,OAAOA,IAAP,MAAiB,MAAjB;AAEA,OAAOC,GAAP,MAAgB,UAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,KAAKC,MAAZ,MAAwB,cAAxB;AACA,OAAO,KAAKC,kBAAZ,MAAoC,sBAApC;AAEA,OAAOC,UAAP,MAAuB,qBAAvB;AAEAA,UAAU,CAAC;EAAEF,MAAF;EAAUC;AAAV,CAAD,CAAV;AAEA,gBAAe,MAAM;EACnB,MAAME,MAAM,GAAGN,IAAI,CAACO,YAAL,CAAkBN,GAAlB,CAAf,CADmB,CAEnB;;EACA,MAAMO,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;EACA,MAAMC,YAAY,GAAGH,OAAO,CAACC,GAAR,CAAYG,mBAAZ,IAAmC,SAAxD;EAEA,IAAIC,UAAU,GAAGb,GAAjB;EAEAK,MAAM,CACHS,MADH,CACUP,IADV,EACgBI,YADhB,EAC8B,MAAM;IAChC,IAAIX,GAAG,CAACe,OAAJ,KAAgBf,GAAG,CAACgB,SAApB,IAAiC,CAAChB,GAAG,CAACe,OAA1C,EAAmD;MACjDE,OAAO,CAACC,GAAR,CAAa,mCAAb;IACD,CAFD,MAEO;MACLD,OAAO,CAACC,GAAR,CAAa,oCAAmClB,GAAG,CAACe,OAAQ,EAA5D;IACD;;IACD,IAAII,eAAe,IAAInB,GAAG,CAACoB,iBAA3B,EACEH,OAAO,CAACC,GAAR,CACG,yBAAwBlB,GAAG,CAACgB,SAAU,OAAMhB,GAAG,CAACoB,iBAAkB,EADrE;IAGFH,OAAO,CAACC,GAAR,CAAa,uBAAsBP,YAAa,IAAGJ,IAAK,KAAxD;IAEA,IAAI,CAACC,OAAO,CAACC,GAAR,CAAYY,iBAAjB,EACEpB,KAAK,CAAC,QAAD,CAAL,CAAiB,uBAAsBD,GAAG,CAACgB,SAAU,EAArD;EACH,CAfH,EAgBGM,EAhBH,CAgBM,OAhBN,EAgBgBC,CAAD,IAAO;IAClBN,OAAO,CAACO,KAAR,CAAcD,CAAC,CAACE,OAAhB;IACA,MAAMF,CAAN;EACD,CAnBH;EAqBA,OAAO,MAAM;IACXN,OAAO,CAACC,GAAR,CAAY,6BAAZ;IAEAQ,MAAM,CAACC,GAAP,CAAWC,MAAX,CAAkB,UAAlB,EAA8B,MAAM;MAClCX,OAAO,CAACC,GAAR,CAAY,iCAAZ;MACAb,MAAM,CAACwB,cAAP,CAAsB,SAAtB,EAAiChB,UAAjC;;MACA,MAAMiB,MAAM,GAAGC,OAAO,CAAC,UAAD,CAAP,CAAoBC,OAAnC,CAHkC,CAGU;;;MAC5C3B,MAAM,CAACiB,EAAP,CAAU,SAAV,EAAqBQ,MAArB;MACAjB,UAAU,GAAGiB,MAAb;IACD,CAND;EAOD,CAVD;AAWD,CAxCD"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}