{"ast":null,"code":"import _isEmpty from \"lodash/isEmpty\";\n\n/**\n * Converts the state (extracted from URL) to options for the facet control\n *\n * Shared by the SelectFacet and CheckboxFacet\n */\nexport const selectFacetStateToValue = ({\n  facetSettings,\n  index,\n  selectedValue\n}) => {\n  var _index$values2, _index$values2$select;\n\n  const isMulti = facetSettings.multiple;\n  return selectedValue ? isMulti ? Array.isArray(selectedValue) ? selectedValue.map(v => {\n    var _index$values, _index$values$v;\n\n    return {\n      value: v,\n      label: (_index$values = index.values) === null || _index$values === void 0 ? void 0 : (_index$values$v = _index$values[v]) === null || _index$values$v === void 0 ? void 0 : _index$values$v.title\n    };\n  }) : [] : {\n    value: selectedValue,\n    label: (_index$values2 = index.values) === null || _index$values2 === void 0 ? void 0 : (_index$values2$select = _index$values2[selectedValue]) === null || _index$values2$select === void 0 ? void 0 : _index$values2$select.title\n  } : [];\n};\nexport const selectFacetSchemaEnhancer = ({\n  schema,\n  formData\n}) => {\n  // adds (enables) the 'multiple' field after the 'type' dropdown\n  let {\n    fields\n  } = schema.fieldsets[0];\n  const pos = fields.indexOf('type') + 1;\n  fields = [...fields.slice(0, pos), 'multiple', ...fields.slice(pos, fields.length)];\n  schema.fieldsets[0].fields = fields;\n  return schema;\n};\nexport const selectFacetValueToQuery = ({\n  value,\n  facet\n}) => {\n  return !_isEmpty(value) ? {\n    i: facet.field.value,\n    o: Array.isArray(value) ? 'plone.app.querystring.operation.list.contains' : 'plone.app.querystring.operation.selection.is',\n    v: value\n  } : undefined;\n};","map":{"version":3,"names":["selectFacetStateToValue","facetSettings","index","selectedValue","isMulti","multiple","Array","isArray","map","v","value","label","values","title","selectFacetSchemaEnhancer","schema","formData","fields","fieldsets","pos","indexOf","slice","length","selectFacetValueToQuery","facet","i","field","o","undefined"],"sources":["/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Blocks/Search/components/base.js"],"sourcesContent":["import { isEmpty } from 'lodash';\n\n/**\n * Converts the state (extracted from URL) to options for the facet control\n *\n * Shared by the SelectFacet and CheckboxFacet\n */\nexport const selectFacetStateToValue = ({\n  facetSettings,\n  index,\n  selectedValue,\n}) => {\n  const isMulti = facetSettings.multiple;\n  return selectedValue\n    ? isMulti\n      ? Array.isArray(selectedValue)\n        ? selectedValue.map((v) => ({\n            value: v,\n            label: index.values?.[v]?.title,\n          }))\n        : []\n      : {\n          value: selectedValue,\n          label: index.values?.[selectedValue]?.title,\n        }\n    : [];\n};\n\nexport const selectFacetSchemaEnhancer = ({ schema, formData }) => {\n  // adds (enables) the 'multiple' field after the 'type' dropdown\n  let { fields } = schema.fieldsets[0];\n  const pos = fields.indexOf('type') + 1;\n  fields = [\n    ...fields.slice(0, pos),\n    'multiple',\n    ...fields.slice(pos, fields.length),\n  ];\n  schema.fieldsets[0].fields = fields;\n  return schema;\n};\n\nexport const selectFacetValueToQuery = ({ value, facet }) => {\n  return !isEmpty(value)\n    ? {\n        i: facet.field.value,\n        o: Array.isArray(value)\n          ? 'plone.app.querystring.operation.list.contains'\n          : 'plone.app.querystring.operation.selection.is',\n        v: value,\n      }\n    : undefined;\n};\n"],"mappings":";;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,uBAAuB,GAAG,CAAC;EACtCC,aADsC;EAEtCC,KAFsC;EAGtCC;AAHsC,CAAD,KAIjC;EAAA;;EACJ,MAAMC,OAAO,GAAGH,aAAa,CAACI,QAA9B;EACA,OAAOF,aAAa,GAChBC,OAAO,GACLE,KAAK,CAACC,OAAN,CAAcJ,aAAd,IACEA,aAAa,CAACK,GAAd,CAAmBC,CAAD;IAAA;;IAAA,OAAQ;MACxBC,KAAK,EAAED,CADiB;MAExBE,KAAK,mBAAET,KAAK,CAACU,MAAR,qEAAE,cAAeH,CAAf,CAAF,oDAAE,gBAAmBI;IAFF,CAAR;EAAA,CAAlB,CADF,GAKE,EANG,GAOL;IACEH,KAAK,EAAEP,aADT;IAEEQ,KAAK,oBAAET,KAAK,CAACU,MAAR,4EAAE,eAAeT,aAAf,CAAF,0DAAE,sBAA+BU;EAFxC,CARc,GAYhB,EAZJ;AAaD,CAnBM;AAqBP,OAAO,MAAMC,yBAAyB,GAAG,CAAC;EAAEC,MAAF;EAAUC;AAAV,CAAD,KAA0B;EACjE;EACA,IAAI;IAAEC;EAAF,IAAaF,MAAM,CAACG,SAAP,CAAiB,CAAjB,CAAjB;EACA,MAAMC,GAAG,GAAGF,MAAM,CAACG,OAAP,CAAe,MAAf,IAAyB,CAArC;EACAH,MAAM,GAAG,CACP,GAAGA,MAAM,CAACI,KAAP,CAAa,CAAb,EAAgBF,GAAhB,CADI,EAEP,UAFO,EAGP,GAAGF,MAAM,CAACI,KAAP,CAAaF,GAAb,EAAkBF,MAAM,CAACK,MAAzB,CAHI,CAAT;EAKAP,MAAM,CAACG,SAAP,CAAiB,CAAjB,EAAoBD,MAApB,GAA6BA,MAA7B;EACA,OAAOF,MAAP;AACD,CAXM;AAaP,OAAO,MAAMQ,uBAAuB,GAAG,CAAC;EAAEb,KAAF;EAASc;AAAT,CAAD,KAAsB;EAC3D,OAAO,CAAC,SAAQd,KAAR,CAAD,GACH;IACEe,CAAC,EAAED,KAAK,CAACE,KAAN,CAAYhB,KADjB;IAEEiB,CAAC,EAAErB,KAAK,CAACC,OAAN,CAAcG,KAAd,IACC,+CADD,GAEC,8CAJN;IAKED,CAAC,EAAEC;EALL,CADG,GAQHkB,SARJ;AASD,CAVM"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}