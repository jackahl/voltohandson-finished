{"ast":null,"code":"var _jsxFileName = \"/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/theme/FormattedDate/FormattedRelativeDate.jsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { formatRelativeDate, long_date_format, toDate } from '@plone/volto/helpers/Utils/Date';\nimport { useSelector } from 'react-redux';\n\nconst FormattedRelativeDate = ({\n  date,\n  style,\n  relativeTo,\n  className,\n  locale,\n  children,\n  live = false,\n  refresh = 5000\n}) => {\n  const language = useSelector(state => locale || state.intl.locale);\n  const [liveRelativeTo, setLiveRelativeTo] = React.useState(relativeTo ? toDate(relativeTo) : new Date());\n  const interval = React.useRef();\n  React.useEffect(() => {\n    if (live) {\n      interval.current = setInterval(() => {\n        setLiveRelativeTo(new Date());\n      }, refresh);\n    }\n\n    return () => interval.current && clearInterval(interval.current);\n  }, [refresh, live]);\n  const args = {\n    locale: language,\n    date,\n    style,\n    relativeTo: liveRelativeTo\n  };\n  return __jsx(\"time\", {\n    className: className,\n    dateTime: date,\n    title: new Intl.DateTimeFormat(language, long_date_format).format(new Date(date)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, children ? children(formatRelativeDate(_objectSpread(_objectSpread({}, args), {}, {\n    formatToParts: true\n  }))) : formatRelativeDate(args));\n};\n\nexport default FormattedRelativeDate;","map":{"version":3,"names":["React","formatRelativeDate","long_date_format","toDate","useSelector","FormattedRelativeDate","date","style","relativeTo","className","locale","children","live","refresh","language","state","intl","liveRelativeTo","setLiveRelativeTo","useState","Date","interval","useRef","useEffect","current","setInterval","clearInterval","args","Intl","DateTimeFormat","format","formatToParts"],"sources":["/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/theme/FormattedDate/FormattedRelativeDate.jsx"],"sourcesContent":["import React from 'react';\nimport {\n  formatRelativeDate,\n  long_date_format,\n  toDate,\n} from '@plone/volto/helpers/Utils/Date';\nimport { useSelector } from 'react-redux';\n\nconst FormattedRelativeDate = ({\n  date,\n  style,\n  relativeTo,\n  className,\n  locale,\n  children,\n  live = false,\n  refresh = 5000,\n}) => {\n  const language = useSelector((state) => locale || state.intl.locale);\n  const [liveRelativeTo, setLiveRelativeTo] = React.useState(\n    relativeTo ? toDate(relativeTo) : new Date(),\n  );\n\n  const interval = React.useRef();\n\n  React.useEffect(() => {\n    if (live) {\n      interval.current = setInterval(() => {\n        setLiveRelativeTo(new Date());\n      }, refresh);\n    }\n    return () => interval.current && clearInterval(interval.current);\n  }, [refresh, live]);\n\n  const args = { locale: language, date, style, relativeTo: liveRelativeTo };\n\n  return (\n    <time\n      className={className}\n      dateTime={date}\n      title={new Intl.DateTimeFormat(language, long_date_format).format(\n        new Date(date),\n      )}\n    >\n      {children\n        ? children(\n            formatRelativeDate({\n              ...args,\n              formatToParts: true,\n            }),\n          )\n        : formatRelativeDate(args)}\n    </time>\n  );\n};\n\nexport default FormattedRelativeDate;\n"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,kBADF,EAEEC,gBAFF,EAGEC,MAHF,QAIO,iCAJP;AAKA,SAASC,WAAT,QAA4B,aAA5B;;AAEA,MAAMC,qBAAqB,GAAG,CAAC;EAC7BC,IAD6B;EAE7BC,KAF6B;EAG7BC,UAH6B;EAI7BC,SAJ6B;EAK7BC,MAL6B;EAM7BC,QAN6B;EAO7BC,IAAI,GAAG,KAPsB;EAQ7BC,OAAO,GAAG;AARmB,CAAD,KASxB;EACJ,MAAMC,QAAQ,GAAGV,WAAW,CAAEW,KAAD,IAAWL,MAAM,IAAIK,KAAK,CAACC,IAAN,CAAWN,MAAjC,CAA5B;EACA,MAAM,CAACO,cAAD,EAAiBC,iBAAjB,IAAsClB,KAAK,CAACmB,QAAN,CAC1CX,UAAU,GAAGL,MAAM,CAACK,UAAD,CAAT,GAAwB,IAAIY,IAAJ,EADQ,CAA5C;EAIA,MAAMC,QAAQ,GAAGrB,KAAK,CAACsB,MAAN,EAAjB;EAEAtB,KAAK,CAACuB,SAAN,CAAgB,MAAM;IACpB,IAAIX,IAAJ,EAAU;MACRS,QAAQ,CAACG,OAAT,GAAmBC,WAAW,CAAC,MAAM;QACnCP,iBAAiB,CAAC,IAAIE,IAAJ,EAAD,CAAjB;MACD,CAF6B,EAE3BP,OAF2B,CAA9B;IAGD;;IACD,OAAO,MAAMQ,QAAQ,CAACG,OAAT,IAAoBE,aAAa,CAACL,QAAQ,CAACG,OAAV,CAA9C;EACD,CAPD,EAOG,CAACX,OAAD,EAAUD,IAAV,CAPH;EASA,MAAMe,IAAI,GAAG;IAAEjB,MAAM,EAAEI,QAAV;IAAoBR,IAApB;IAA0BC,KAA1B;IAAiCC,UAAU,EAAES;EAA7C,CAAb;EAEA,OACE;IACE,SAAS,EAAER,SADb;IAEE,QAAQ,EAAEH,IAFZ;IAGE,KAAK,EAAE,IAAIsB,IAAI,CAACC,cAAT,CAAwBf,QAAxB,EAAkCZ,gBAAlC,EAAoD4B,MAApD,CACL,IAAIV,IAAJ,CAASd,IAAT,CADK,CAHT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAOGK,QAAQ,GACLA,QAAQ,CACNV,kBAAkB,iCACb0B,IADa;IAEhBI,aAAa,EAAE;EAFC,GADZ,CADH,GAOL9B,kBAAkB,CAAC0B,IAAD,CAdxB,CADF;AAkBD,CA9CD;;AAgDA,eAAetB,qBAAf"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}