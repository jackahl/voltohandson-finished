{"ast":null,"code":"import { defineMessages } from 'react-intl';\nimport config from '@plone/volto/registry';\nconst messages = defineMessages({\n  listing: {\n    \"id\": \"Listing\",\n    \"defaultMessage\": \"Listing\"\n  },\n  querystring: {\n    \"id\": \"Query\",\n    \"defaultMessage\": \"Query\"\n  },\n  more: {\n    \"id\": \"Link more\",\n    \"defaultMessage\": \"Link more\"\n  },\n  LinkTitle: {\n    \"id\": \"Link title\",\n    \"defaultMessage\": \"Link Title\"\n  },\n  LinkTo: {\n    \"id\": \"Link to\",\n    \"defaultMessage\": \"Link to\"\n  },\n  headline: {\n    \"id\": \"Headline\",\n    \"defaultMessage\": \"Headline\"\n  },\n  headlineTag: {\n    \"id\": \"Headline level\",\n    \"defaultMessage\": \"Headline level\"\n  }\n});\nconst DEFAULT_HEADLINE_LEVELS = [['h2', 'h2'], ['h3', 'h3']];\nexport const schemaListing = props => {\n  var _config$blocks, _config$blocks$blocks, _config$blocks$blocks2;\n\n  const {\n    intl\n  } = props;\n  const allowed_headline_tags = ((_config$blocks = config.blocks) === null || _config$blocks === void 0 ? void 0 : (_config$blocks$blocks = _config$blocks.blocksConfig) === null || _config$blocks$blocks === void 0 ? void 0 : (_config$blocks$blocks2 = _config$blocks$blocks.listing) === null || _config$blocks$blocks2 === void 0 ? void 0 : _config$blocks$blocks2.allowed_headline_tags) || DEFAULT_HEADLINE_LEVELS;\n  return {\n    title: intl.formatMessage(messages.listing),\n    fieldsets: [{\n      id: 'default',\n      title: 'Default',\n      fields: ['headline', ...(allowed_headline_tags.length > 1 ? ['headlineTag'] : []), 'querystring']\n    }, ...(config.blocks.blocksConfig.listing.showLinkMore ? [{\n      id: 'linkmore',\n      title: intl.formatMessage(messages.more),\n      fields: ['linkTitle', 'linkHref']\n    }] : [])],\n    properties: {\n      headline: {\n        title: intl.formatMessage(messages.headline)\n      },\n      headlineTag: {\n        title: intl.formatMessage(messages.headlineTag),\n        choices: allowed_headline_tags,\n        default: 'h2',\n        noValueOption: false\n      },\n      querystring: {\n        title: intl.formatMessage(messages.querystring),\n        widget: 'querystring'\n      },\n      linkTitle: {\n        title: intl.formatMessage(messages.LinkTitle)\n      },\n      linkHref: {\n        title: intl.formatMessage(messages.LinkTo),\n        widget: 'object_browser',\n        mode: 'link',\n        selectedItemAttrs: ['Title', 'Description'],\n        allowExternals: true\n      }\n    },\n    required: []\n  };\n};\nexport default schemaListing;","map":{"version":3,"names":["defineMessages","config","messages","listing","querystring","more","LinkTitle","LinkTo","headline","headlineTag","DEFAULT_HEADLINE_LEVELS","schemaListing","props","intl","allowed_headline_tags","blocks","blocksConfig","title","formatMessage","fieldsets","id","fields","length","showLinkMore","properties","choices","default","noValueOption","widget","linkTitle","linkHref","mode","selectedItemAttrs","allowExternals","required"],"sources":["/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Blocks/Listing/schema.js"],"sourcesContent":["import { defineMessages } from 'react-intl';\nimport config from '@plone/volto/registry';\n\nconst messages = defineMessages({\n  listing: {\n    id: 'Listing',\n    defaultMessage: 'Listing',\n  },\n  querystring: {\n    id: 'Query',\n    defaultMessage: 'Query',\n  },\n  more: {\n    id: 'Link more',\n    defaultMessage: 'Link more',\n  },\n  LinkTitle: {\n    id: 'Link title',\n    defaultMessage: 'Link Title',\n  },\n  LinkTo: {\n    id: 'Link to',\n    defaultMessage: 'Link to',\n  },\n  headline: {\n    id: 'Headline',\n    defaultMessage: 'Headline',\n  },\n  headlineTag: {\n    id: 'Headline level',\n    defaultMessage: 'Headline level',\n  },\n});\n\nconst DEFAULT_HEADLINE_LEVELS = [\n  ['h2', 'h2'],\n  ['h3', 'h3'],\n];\n\nexport const schemaListing = (props) => {\n  const { intl } = props;\n  const allowed_headline_tags =\n    config.blocks?.blocksConfig?.listing?.allowed_headline_tags ||\n    DEFAULT_HEADLINE_LEVELS;\n\n  return {\n    title: intl.formatMessage(messages.listing),\n    fieldsets: [\n      {\n        id: 'default',\n        title: 'Default',\n        fields: [\n          'headline',\n          ...(allowed_headline_tags.length > 1 ? ['headlineTag'] : []),\n          'querystring',\n        ],\n      },\n      ...(config.blocks.blocksConfig.listing.showLinkMore\n        ? [\n            {\n              id: 'linkmore',\n              title: intl.formatMessage(messages.more),\n              fields: ['linkTitle', 'linkHref'],\n            },\n          ]\n        : []),\n    ],\n\n    properties: {\n      headline: {\n        title: intl.formatMessage(messages.headline),\n      },\n      headlineTag: {\n        title: intl.formatMessage(messages.headlineTag),\n        choices: allowed_headline_tags,\n        default: 'h2',\n        noValueOption: false,\n      },\n      querystring: {\n        title: intl.formatMessage(messages.querystring),\n        widget: 'querystring',\n      },\n      linkTitle: {\n        title: intl.formatMessage(messages.LinkTitle),\n      },\n      linkHref: {\n        title: intl.formatMessage(messages.LinkTo),\n        widget: 'object_browser',\n        mode: 'link',\n        selectedItemAttrs: ['Title', 'Description'],\n        allowExternals: true,\n      },\n    },\n    required: [],\n  };\n};\n\nexport default schemaListing;\n"],"mappings":"AAAA,SAASA,cAAT,QAA+B,YAA/B;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AAEA,MAAMC,QAAQ,GAAGF,cAAc,CAAC;EAC9BG,OAAO;IAAA;IAAA;EAAA,CADuB;EAK9BC,WAAW;IAAA;IAAA;EAAA,CALmB;EAS9BC,IAAI;IAAA;IAAA;EAAA,CAT0B;EAa9BC,SAAS;IAAA;IAAA;EAAA,CAbqB;EAiB9BC,MAAM;IAAA;IAAA;EAAA,CAjBwB;EAqB9BC,QAAQ;IAAA;IAAA;EAAA,CArBsB;EAyB9BC,WAAW;IAAA;IAAA;EAAA;AAzBmB,CAAD,CAA/B;AA+BA,MAAMC,uBAAuB,GAAG,CAC9B,CAAC,IAAD,EAAO,IAAP,CAD8B,EAE9B,CAAC,IAAD,EAAO,IAAP,CAF8B,CAAhC;AAKA,OAAO,MAAMC,aAAa,GAAIC,KAAD,IAAW;EAAA;;EACtC,MAAM;IAAEC;EAAF,IAAWD,KAAjB;EACA,MAAME,qBAAqB,GACzB,mBAAAb,MAAM,CAACc,MAAP,2FAAeC,YAAf,0GAA6Bb,OAA7B,kFAAsCW,qBAAtC,KACAJ,uBAFF;EAIA,OAAO;IACLO,KAAK,EAAEJ,IAAI,CAACK,aAAL,CAAmBhB,QAAQ,CAACC,OAA5B,CADF;IAELgB,SAAS,EAAE,CACT;MACEC,EAAE,EAAE,SADN;MAEEH,KAAK,EAAE,SAFT;MAGEI,MAAM,EAAE,CACN,UADM,EAEN,IAAIP,qBAAqB,CAACQ,MAAtB,GAA+B,CAA/B,GAAmC,CAAC,aAAD,CAAnC,GAAqD,EAAzD,CAFM,EAGN,aAHM;IAHV,CADS,EAUT,IAAIrB,MAAM,CAACc,MAAP,CAAcC,YAAd,CAA2Bb,OAA3B,CAAmCoB,YAAnC,GACA,CACE;MACEH,EAAE,EAAE,UADN;MAEEH,KAAK,EAAEJ,IAAI,CAACK,aAAL,CAAmBhB,QAAQ,CAACG,IAA5B,CAFT;MAGEgB,MAAM,EAAE,CAAC,WAAD,EAAc,UAAd;IAHV,CADF,CADA,GAQA,EARJ,CAVS,CAFN;IAuBLG,UAAU,EAAE;MACVhB,QAAQ,EAAE;QACRS,KAAK,EAAEJ,IAAI,CAACK,aAAL,CAAmBhB,QAAQ,CAACM,QAA5B;MADC,CADA;MAIVC,WAAW,EAAE;QACXQ,KAAK,EAAEJ,IAAI,CAACK,aAAL,CAAmBhB,QAAQ,CAACO,WAA5B,CADI;QAEXgB,OAAO,EAAEX,qBAFE;QAGXY,OAAO,EAAE,IAHE;QAIXC,aAAa,EAAE;MAJJ,CAJH;MAUVvB,WAAW,EAAE;QACXa,KAAK,EAAEJ,IAAI,CAACK,aAAL,CAAmBhB,QAAQ,CAACE,WAA5B,CADI;QAEXwB,MAAM,EAAE;MAFG,CAVH;MAcVC,SAAS,EAAE;QACTZ,KAAK,EAAEJ,IAAI,CAACK,aAAL,CAAmBhB,QAAQ,CAACI,SAA5B;MADE,CAdD;MAiBVwB,QAAQ,EAAE;QACRb,KAAK,EAAEJ,IAAI,CAACK,aAAL,CAAmBhB,QAAQ,CAACK,MAA5B,CADC;QAERqB,MAAM,EAAE,gBAFA;QAGRG,IAAI,EAAE,MAHE;QAIRC,iBAAiB,EAAE,CAAC,OAAD,EAAU,aAAV,CAJX;QAKRC,cAAc,EAAE;MALR;IAjBA,CAvBP;IAgDLC,QAAQ,EAAE;EAhDL,CAAP;AAkDD,CAxDM;AA0DP,eAAevB,aAAf"},"metadata":{"react-intl":{"messages":[{"id":"Listing","defaultMessage":"Listing"},{"id":"Query","defaultMessage":"Query"},{"id":"Link more","defaultMessage":"Link more"},{"id":"Link title","defaultMessage":"Link Title"},{"id":"Link to","defaultMessage":"Link to"},{"id":"Headline","defaultMessage":"Headline"},{"id":"Headline level","defaultMessage":"Headline level"}]}},"sourceType":"module"}