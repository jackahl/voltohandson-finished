{"ast":null,"code":"import _uniqBy from \"lodash/uniqBy\";\nimport _cloneDeep from \"lodash/cloneDeep\";\n\nvar _jsxFileName = \"/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Controlpanels/Users/UserGroupMembershipListing.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { Button, Checkbox } from 'semantic-ui-react';\nimport { messages } from '@plone/volto/helpers';\nimport { listGroups } from '@plone/volto/actions';\nimport { Icon, Toast } from '@plone/volto/components';\nimport { updateGroup, listUsers } from '@plone/volto/actions';\nimport add from '@plone/volto/icons/add.svg';\nimport remove from '@plone/volto/icons/remove.svg';\nimport down_key from '@plone/volto/icons/down-key.svg';\n\nconst ListingTemplate = _ref => {\n  _s();\n\n  var _matrix_options, _matrix_options2, _matrix_options3;\n\n  let {\n    query_user,\n    // Show users on y-axis that match\n    query_group,\n    // Show groups on y-axis that match\n    groups_filter,\n    // show members of these groups\n    add_joined_groups,\n    // Toggle: show also groups joined by users below\n    many_users,\n    many_groups\n  } = _ref;\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  const pageSize = 25;\n  const {\n    0: userLimit,\n    1: setUserLimit\n  } = useState(pageSize); // y axis\n\n  let items = useSelector(state => state.users.users);\n  let show_users = !many_users || many_users && query_user.length > 1 || many_users && groups_filter.length > 0; // Stay with '> 0', as these are already groups, not querystring to search for groups.\n\n  if (show_users) {\n    items.sort(function (a, b) {\n      var labelA = a.fullname && a.fullname.split(' ').reverse().join(' ') || a.id;\n      var labelB = b.fullname && b.fullname.split(' ').reverse().join(' ') || b.id;\n\n      if (labelA < labelB) {\n        return -1;\n      }\n\n      if (labelA > labelB) {\n        return 1;\n      }\n\n      return 0;\n    });\n  } else {\n    items = [];\n  } // x axis\n\n\n  let groups = useSelector(state => state.groups.groups);\n  let show_matrix_options = !many_groups || many_groups && query_group.length > 1 || groups_filter.length > 0 || add_joined_groups;\n  let matrix_options; // list of Objects (value, label)\n\n  if (show_matrix_options) {\n    matrix_options = !many_groups || many_groups && query_group.length > 1 ? _cloneDeep(groups) : [];\n\n    if (add_joined_groups) {\n      items.map(item => {\n        matrix_options.push(...item.groups.items);\n        return item.groups.items;\n      });\n    }\n\n    matrix_options = matrix_options.map(group => ({\n      value: group.id,\n      label: group.title || `${group.id}`\n    }));\n\n    if (groups_filter.length > 0) {\n      matrix_options = groups_filter.concat(matrix_options);\n    }\n\n    matrix_options = _uniqBy(matrix_options, x => x.value);\n    matrix_options = matrix_options.filter(group => {\n      return group.value !== 'AuthenticatedUsers';\n    });\n    matrix_options.sort(function (a, b) {\n      var labelA = a.label.toUpperCase();\n      var labelB = b.label.toUpperCase();\n\n      if (labelA < labelB) {\n        return -1;\n      }\n\n      if (labelA > labelB) {\n        return 1;\n      }\n\n      return 0;\n    });\n  } else {\n    matrix_options = [];\n  }\n\n  useEffect(() => {\n    // Get users.\n    if (show_users) {\n      dispatch(listUsers({\n        search: query_user,\n        groups_filter: groups_filter.map(el => el.value),\n        limit: userLimit\n      }));\n    }\n  }, [dispatch, query_user, groups_filter, show_users, userLimit]);\n  useEffect(() => {\n    // Get matrix groups.\n    if (show_matrix_options) {\n      dispatch(listGroups(query_group));\n    }\n  }, [dispatch, query_group, show_matrix_options, groups_filter]);\n\n  const onSelectOptionHandler = (item, selectedvalue, checked, singleClick) => {\n    var _singleClick;\n\n    singleClick = (_singleClick = singleClick) !== null && _singleClick !== void 0 ? _singleClick : false;\n    let group = selectedvalue.y;\n    let username = selectedvalue.x;\n    dispatch(updateGroup(group, {\n      users: {\n        [username]: checked ? true : false\n      }\n    })).then(resp => {\n      singleClick && dispatch(listUsers({\n        search: query_user,\n        groups_filter: groups_filter.map(el => el.value),\n        limit: userLimit\n      }));\n    }).then(() => {\n      singleClick && toast.success(__jsx(Toast, {\n        success: true,\n        title: intl.formatMessage(messages.success),\n        content: \"Membership updated\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }\n      }));\n    });\n  };\n\n  const onSelectAllHandler = (mtxoption, checked) => {\n    let elements = document.querySelectorAll(`div.checkbox_${mtxoption} input`);\n    let identifier;\n    let usersgroupmapping = {};\n    elements.forEach(element => {\n      identifier = element.name.split('_-_');\n      usersgroupmapping[identifier[1]] = checked ? true : false;\n    });\n    dispatch(updateGroup(identifier[2], {\n      users: usersgroupmapping\n    })).then(() => {\n      dispatch(listUsers({\n        search: query_user,\n        groups_filter: groups_filter.map(el => el.value),\n        limit: userLimit\n      }));\n    }).then(() => {\n      toast.success(__jsx(Toast, {\n        success: true,\n        title: intl.formatMessage(messages.success),\n        content: \"Membership updated\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }\n      }));\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: \"administration_matrix\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 5\n    }\n  }, matrix_options && ((_matrix_options = matrix_options) === null || _matrix_options === void 0 ? void 0 : _matrix_options.length) > 0 && __jsx(\"div\", {\n    className: \"label-options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, (_matrix_options2 = matrix_options) === null || _matrix_options2 === void 0 ? void 0 : _matrix_options2.map(matrix_option => __jsx(\"div\", {\n    className: \"label-options-label inclined\",\n    key: matrix_option.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, matrix_option.label))))), __jsx(\"div\", {\n    className: \"items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }\n  }, items.length > 0 ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"listing-row selectall\",\n    key: \"selectall\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"listing-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: \"matrix_options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, (_matrix_options3 = matrix_options) === null || _matrix_options3 === void 0 ? void 0 : _matrix_options3.map(matrix_option => __jsx(\"div\", {\n    key: matrix_option.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 21\n    }\n  }, __jsx(Button, {\n    icon: true,\n    basic: true,\n    onClick: () => onSelectAllHandler(matrix_option.value, true),\n    className: \"add-button\",\n    \"aria-label\": intl.formatMessage(messages.addUsersToGroup) + ` ${matrix_option.label}`,\n    title: intl.formatMessage(messages.addUsersToGroup) + ` ${matrix_option.label}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 23\n    }\n  }, __jsx(Icon, {\n    name: add,\n    size: \"10px\",\n    className: \"circled\",\n    color: \"unset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 25\n    }\n  })), __jsx(Button, {\n    icon: true,\n    basic: true,\n    onClick: () => onSelectAllHandler(matrix_option.value, false),\n    className: \"remove-button\",\n    \"aria-label\": intl.formatMessage(messages.removeUsersFromGroup) + ` ${matrix_option.label}`,\n    title: intl.formatMessage(messages.removeUsersFromGroup) + ` ${matrix_option.label}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 23\n    }\n  }, __jsx(Icon, {\n    name: remove,\n    size: \"10px\",\n    className: \"circled\",\n    color: \"unset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 25\n    }\n  }))))))), __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }\n  }, items.length, \" users \"), items.map(item => {\n    var _matrix_options4;\n\n    return __jsx(\"div\", {\n      className: \"listing-row\",\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 15\n      }\n    }, __jsx(\"div\", {\n      className: \"listing-item\",\n      key: item['@id'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 19\n      }\n    }, __jsx(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 21\n      }\n    }, item.fullname, \" (\", item.id, \")\")), __jsx(\"div\", {\n      className: \"matrix_options\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 19\n      }\n    }, (_matrix_options4 = matrix_options) === null || _matrix_options4 === void 0 ? void 0 : _matrix_options4.map(matrix_option => {\n      var _item$groups, _item$groups$items;\n\n      return __jsx(Checkbox, {\n        name: `member_-_${item.id}_-_${matrix_option.value}`,\n        className: `checkbox_${matrix_option.value}`,\n        key: matrix_option.value,\n        title: matrix_option.title,\n        checked: (_item$groups = item.groups) === null || _item$groups === void 0 ? void 0 : (_item$groups$items = _item$groups.items) === null || _item$groups$items === void 0 ? void 0 : _item$groups$items.map(el => el.id).includes(matrix_option.value),\n        onChange: (event, _ref2) => {\n          let {\n            checked\n          } = _ref2;\n          onSelectOptionHandler(item, {\n            y: matrix_option.value,\n            x: item.id\n          }, checked, true);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 23\n        }\n      });\n    }))));\n  }), !(items.length < pageSize) ? __jsx(\"div\", {\n    className: \"show-more\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    icon: true,\n    basic: true,\n    onClick: () => setUserLimit(userLimit + pageSize),\n    className: \"show-more-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 17\n    }\n  }, __jsx(Icon, {\n    name: down_key,\n    size: \"30px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 19\n    }\n  }))) : null) : __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 11\n    }\n  }, intl.formatMessage(show_users ? query_user ? messages.noUserFound : messages.pleaseSearchOrFilterUsers : messages.pleaseSearchOrFilterUsers))));\n};\n\n_s(ListingTemplate, \"WJNouTrG3K6l1tQiT1/ov0JuyRI=\", false, function () {\n  return [useIntl, useDispatch, useSelector, useSelector];\n});\n\n_c = ListingTemplate;\nexport default ListingTemplate;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListingTemplate\");","map":{"version":3,"names":["React","useEffect","useState","useIntl","useSelector","useDispatch","toast","Button","Checkbox","messages","listGroups","Icon","Toast","updateGroup","listUsers","add","remove","down_key","ListingTemplate","query_user","query_group","groups_filter","add_joined_groups","many_users","many_groups","intl","dispatch","pageSize","userLimit","setUserLimit","items","state","users","show_users","length","sort","a","b","labelA","fullname","split","reverse","join","id","labelB","groups","show_matrix_options","matrix_options","map","item","push","group","value","label","title","concat","x","filter","toUpperCase","search","el","limit","onSelectOptionHandler","selectedvalue","checked","singleClick","y","username","then","resp","success","formatMessage","onSelectAllHandler","mtxoption","elements","document","querySelectorAll","identifier","usersgroupmapping","forEach","element","name","matrix_option","addUsersToGroup","removeUsersFromGroup","includes","event","noUserFound","pleaseSearchOrFilterUsers"],"sources":["/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Controlpanels/Users/UserGroupMembershipListing.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { cloneDeep, uniqBy } from 'lodash';\nimport { useIntl } from 'react-intl';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { Button, Checkbox } from 'semantic-ui-react';\nimport { messages } from '@plone/volto/helpers';\nimport { listGroups } from '@plone/volto/actions';\nimport { Icon, Toast } from '@plone/volto/components';\nimport { updateGroup, listUsers } from '@plone/volto/actions';\n\nimport add from '@plone/volto/icons/add.svg';\nimport remove from '@plone/volto/icons/remove.svg';\nimport down_key from '@plone/volto/icons/down-key.svg';\n\nconst ListingTemplate = ({\n  query_user, // Show users on y-axis that match\n  query_group, // Show groups on y-axis that match\n  groups_filter, // show members of these groups\n  add_joined_groups, // Toggle: show also groups joined by users below\n  many_users,\n  many_groups,\n}) => {\n  const intl = useIntl();\n  const dispatch = useDispatch();\n\n  const pageSize = 25;\n  const [userLimit, setUserLimit] = useState(pageSize);\n\n  // y axis\n  let items = useSelector((state) => state.users.users);\n  let show_users =\n    !many_users ||\n    (many_users && query_user.length > 1) ||\n    (many_users && groups_filter.length > 0); // Stay with '> 0', as these are already groups, not querystring to search for groups.\n  if (show_users) {\n    items.sort(function (a, b) {\n      var labelA =\n        (a.fullname && a.fullname.split(' ').reverse().join(' ')) || a.id;\n      var labelB =\n        (b.fullname && b.fullname.split(' ').reverse().join(' ')) || b.id;\n      if (labelA < labelB) {\n        return -1;\n      }\n      if (labelA > labelB) {\n        return 1;\n      }\n      return 0;\n    });\n  } else {\n    items = [];\n  }\n\n  // x axis\n  let groups = useSelector((state) => state.groups.groups);\n  let show_matrix_options =\n    !many_groups ||\n    (many_groups && query_group.length > 1) ||\n    groups_filter.length > 0 ||\n    add_joined_groups;\n  let matrix_options; // list of Objects (value, label)\n  if (show_matrix_options) {\n    matrix_options =\n      !many_groups || (many_groups && query_group.length > 1)\n        ? cloneDeep(groups)\n        : [];\n    if (add_joined_groups) {\n      items.map((item) => {\n        matrix_options.push(...item.groups.items);\n        return item.groups.items;\n      });\n    }\n    matrix_options = matrix_options.map((group) => ({\n      value: group.id,\n      label: group.title || `${group.id}`,\n    }));\n    if (groups_filter.length > 0) {\n      matrix_options = groups_filter.concat(matrix_options);\n    }\n    matrix_options = uniqBy(matrix_options, (x) => x.value);\n    matrix_options = matrix_options.filter((group) => {\n      return group.value !== 'AuthenticatedUsers';\n    });\n    matrix_options.sort(function (a, b) {\n      var labelA = a.label.toUpperCase();\n      var labelB = b.label.toUpperCase();\n      if (labelA < labelB) {\n        return -1;\n      }\n      if (labelA > labelB) {\n        return 1;\n      }\n      return 0;\n    });\n  } else {\n    matrix_options = [];\n  }\n\n  useEffect(() => {\n    // Get users.\n    if (show_users) {\n      dispatch(\n        listUsers({\n          search: query_user,\n          groups_filter: groups_filter.map((el) => el.value),\n          limit: userLimit,\n        }),\n      );\n    }\n  }, [dispatch, query_user, groups_filter, show_users, userLimit]);\n\n  useEffect(() => {\n    // Get matrix groups.\n    if (show_matrix_options) {\n      dispatch(listGroups(query_group));\n    }\n  }, [dispatch, query_group, show_matrix_options, groups_filter]);\n\n  const onSelectOptionHandler = (item, selectedvalue, checked, singleClick) => {\n    singleClick = singleClick ?? false;\n    let group = selectedvalue.y;\n    let username = selectedvalue.x;\n\n    dispatch(\n      updateGroup(group, {\n        users: {\n          [username]: checked ? true : false,\n        },\n      }),\n    )\n      .then((resp) => {\n        singleClick &&\n          dispatch(\n            listUsers({\n              search: query_user,\n              groups_filter: groups_filter.map((el) => el.value),\n              limit: userLimit,\n            }),\n          );\n      })\n      .then(() => {\n        singleClick &&\n          toast.success(\n            <Toast\n              success\n              title={intl.formatMessage(messages.success)}\n              content=\"Membership updated\"\n            />,\n          );\n      });\n  };\n\n  const onSelectAllHandler = (mtxoption, checked) => {\n    let elements = document.querySelectorAll(`div.checkbox_${mtxoption} input`);\n    let identifier;\n    let usersgroupmapping = {};\n    elements.forEach((element) => {\n      identifier = element.name.split('_-_');\n      usersgroupmapping[identifier[1]] = checked ? true : false;\n    });\n\n    dispatch(\n      updateGroup(identifier[2], {\n        users: usersgroupmapping,\n      }),\n    )\n      .then(() => {\n        dispatch(\n          listUsers({\n            search: query_user,\n            groups_filter: groups_filter.map((el) => el.value),\n            limit: userLimit,\n          }),\n        );\n      })\n      .then(() => {\n        toast.success(\n          <Toast\n            success\n            title={intl.formatMessage(messages.success)}\n            content=\"Membership updated\"\n          />,\n        );\n      });\n  };\n\n  return (\n    <div className=\"administration_matrix\">\n      {matrix_options && matrix_options?.length > 0 && (\n        <div className=\"label-options\">\n          {matrix_options?.map((matrix_option) => (\n            <div\n              className=\"label-options-label inclined\"\n              key={matrix_option.value}\n            >\n              <div>\n                <span className=\"label\">{matrix_option.label}</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <div className=\"items\">\n        {items.length > 0 ? (\n          <>\n            <div className=\"listing-row selectall\" key=\"selectall\">\n              <div className=\"listing-item\">\n                <div />\n                <div className=\"matrix_options\">\n                  {matrix_options?.map((matrix_option) => (\n                    <div key={matrix_option.value}>\n                      <Button\n                        icon\n                        basic\n                        onClick={() =>\n                          onSelectAllHandler(matrix_option.value, true)\n                        }\n                        className=\"add-button\"\n                        aria-label={\n                          intl.formatMessage(messages.addUsersToGroup) +\n                          ` ${matrix_option.label}`\n                        }\n                        title={\n                          intl.formatMessage(messages.addUsersToGroup) +\n                          ` ${matrix_option.label}`\n                        }\n                      >\n                        <Icon\n                          name={add}\n                          size=\"10px\"\n                          className=\"circled\"\n                          color=\"unset\"\n                        />\n                      </Button>\n                      <Button\n                        icon\n                        basic\n                        onClick={() =>\n                          onSelectAllHandler(matrix_option.value, false)\n                        }\n                        className=\"remove-button\"\n                        aria-label={\n                          intl.formatMessage(messages.removeUsersFromGroup) +\n                          ` ${matrix_option.label}`\n                        }\n                        title={\n                          intl.formatMessage(messages.removeUsersFromGroup) +\n                          ` ${matrix_option.label}`\n                        }\n                      >\n                        <Icon\n                          name={remove}\n                          size=\"10px\"\n                          className=\"circled\"\n                          color=\"unset\"\n                        />\n                      </Button>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            <h3>{items.length} users </h3>\n            {items.map((item) => (\n              <div className=\"listing-row\" key={item.id}>\n                <div className=\"listing-item\" key={item['@id']}>\n                  <div>\n                    <h4>\n                      {item.fullname} ({item.id})\n                    </h4>\n                  </div>\n                  <div className=\"matrix_options\">\n                    {matrix_options?.map((matrix_option) => (\n                      <Checkbox\n                        name={`member_-_${item.id}_-_${matrix_option.value}`}\n                        className={`checkbox_${matrix_option.value}`}\n                        key={matrix_option.value}\n                        title={matrix_option.title}\n                        checked={item.groups?.items\n                          ?.map((el) => el.id)\n                          .includes(matrix_option.value)}\n                        onChange={(event, { checked }) => {\n                          onSelectOptionHandler(\n                            item,\n                            { y: matrix_option.value, x: item.id },\n                            checked,\n                            true,\n                          );\n                        }}\n                      />\n                    ))}\n                  </div>\n                </div>\n              </div>\n            ))}\n            {!(items.length < pageSize) ? (\n              <div className=\"show-more\">\n                <Button\n                  icon\n                  basic\n                  onClick={() => setUserLimit(userLimit + pageSize)}\n                  className=\"show-more-button\"\n                >\n                  <Icon name={down_key} size=\"30px\" />\n                </Button>\n              </div>\n            ) : null}\n          </>\n        ) : (\n          <div>\n            {intl.formatMessage(\n              show_users\n                ? query_user\n                  ? messages.noUserFound\n                  : messages.pleaseSearchOrFilterUsers\n                : messages.pleaseSearchOrFilterUsers,\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default ListingTemplate;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}