{"ast":null,"code":"import _extends from \"/home/jakob/workspace/training-project/node_modules/@babel/runtime/helpers/esm/extends\";\nvar _jsxFileName = \"/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Blocks/Listing/ListingBody.jsx\";\nvar __jsx = React.createElement;\nimport React, { createRef } from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { Pagination, Dimmer, Loader } from 'semantic-ui-react';\nimport { Icon } from '@plone/volto/components';\nimport config from '@plone/volto/registry';\nimport withQuerystringResults from './withQuerystringResults';\nimport paginationLeftSVG from '@plone/volto/icons/left-key.svg';\nimport paginationRightSVG from '@plone/volto/icons/right-key.svg';\nconst ListingBody = withQuerystringResults(_c = props => {\n  var _config$blocks, _config$blocks$blocks, _variations$filter;\n\n  const {\n    data = {},\n    isEditMode,\n    listingItems,\n    totalPages,\n    onPaginationChange,\n    variation,\n    currentPage,\n    prevBatch,\n    nextBatch,\n    isFolderContentsListing,\n    hasLoaded\n  } = props;\n  let ListingBodyTemplate; // Legacy support if template is present\n\n  const variations = ((_config$blocks = config.blocks) === null || _config$blocks === void 0 ? void 0 : (_config$blocks$blocks = _config$blocks.blocksConfig['listing']) === null || _config$blocks$blocks === void 0 ? void 0 : _config$blocks$blocks.variations) || [];\n  const defaultVariation = (_variations$filter = variations.filter(item => item.isDefault)) === null || _variations$filter === void 0 ? void 0 : _variations$filter[0];\n\n  if (data.template && !data.variation) {\n    const legacyTemplateConfig = variations.find(item => item.id === data.template);\n    ListingBodyTemplate = legacyTemplateConfig.template;\n  } else {\n    var _ref, _variation$template;\n\n    ListingBodyTemplate = (_ref = (_variation$template = variation === null || variation === void 0 ? void 0 : variation.template) !== null && _variation$template !== void 0 ? _variation$template : defaultVariation === null || defaultVariation === void 0 ? void 0 : defaultVariation.template) !== null && _ref !== void 0 ? _ref : null;\n  }\n\n  const listingRef = /*#__PURE__*/createRef();\n  return (listingItems === null || listingItems === void 0 ? void 0 : listingItems.length) > 0 ? __jsx(\"div\", {\n    ref: listingRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, __jsx(ListingBodyTemplate, _extends({\n    items: listingItems,\n    isEditMode: isEditMode\n  }, data, variation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  })), totalPages > 1 && __jsx(\"div\", {\n    className: \"pagination-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, __jsx(Pagination, {\n    activePage: currentPage,\n    totalPages: totalPages,\n    onPageChange: (e, _ref2) => {\n      let {\n        activePage\n      } = _ref2;\n      !isEditMode && listingRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n      onPaginationChange(e, {\n        activePage\n      });\n    },\n    firstItem: null,\n    lastItem: null,\n    prevItem: {\n      content: __jsx(Icon, {\n        name: paginationLeftSVG,\n        size: \"18px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 24\n        }\n      }),\n      icon: true,\n      'aria-disabled': !prevBatch,\n      className: !prevBatch ? 'disabled' : null\n    },\n    nextItem: {\n      content: __jsx(Icon, {\n        name: paginationRightSVG,\n        size: \"18px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 24\n        }\n      }),\n      icon: true,\n      'aria-disabled': !nextBatch,\n      className: !nextBatch ? 'disabled' : null\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }))) : isEditMode ? __jsx(\"div\", {\n    className: \"listing message\",\n    ref: listingRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, isFolderContentsListing && __jsx(FormattedMessage, {\n    id: \"No items found in this container.\",\n    defaultMessage: \"No items found in this container.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }), hasLoaded && __jsx(FormattedMessage, {\n    id: \"No results found.\",\n    defaultMessage: \"No results found.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }), __jsx(Dimmer, {\n    active: !hasLoaded,\n    inverted: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, __jsx(Loader, {\n    indeterminate: true,\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"loading\",\n    defaultMessage: \"Loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  })))) : __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, hasLoaded && __jsx(FormattedMessage, {\n    id: \"No results found.\",\n    defaultMessage: \"No results found.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }), __jsx(Dimmer, {\n    active: !hasLoaded,\n    inverted: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, __jsx(Loader, {\n    indeterminate: true,\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"loading\",\n    defaultMessage: \"Loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }))));\n});\n_c2 = ListingBody;\nexport default _c3 = injectIntl(ListingBody);\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"ListingBody$withQuerystringResults\");\n$RefreshReg$(_c2, \"ListingBody\");\n$RefreshReg$(_c3, \"%default%\");","map":{"version":3,"names":["React","createRef","FormattedMessage","injectIntl","Pagination","Dimmer","Loader","Icon","config","withQuerystringResults","paginationLeftSVG","paginationRightSVG","ListingBody","props","data","isEditMode","listingItems","totalPages","onPaginationChange","variation","currentPage","prevBatch","nextBatch","isFolderContentsListing","hasLoaded","ListingBodyTemplate","variations","blocks","blocksConfig","defaultVariation","filter","item","isDefault","template","legacyTemplateConfig","find","id","listingRef","length","e","activePage","current","scrollIntoView","behavior","content","icon","className"],"sources":["/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Blocks/Listing/ListingBody.jsx"],"sourcesContent":["import React, { createRef } from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { Pagination, Dimmer, Loader } from 'semantic-ui-react';\nimport { Icon } from '@plone/volto/components';\nimport config from '@plone/volto/registry';\nimport withQuerystringResults from './withQuerystringResults';\n\nimport paginationLeftSVG from '@plone/volto/icons/left-key.svg';\nimport paginationRightSVG from '@plone/volto/icons/right-key.svg';\n\nconst ListingBody = withQuerystringResults((props) => {\n  const {\n    data = {},\n    isEditMode,\n    listingItems,\n    totalPages,\n    onPaginationChange,\n    variation,\n    currentPage,\n    prevBatch,\n    nextBatch,\n    isFolderContentsListing,\n    hasLoaded,\n  } = props;\n\n  let ListingBodyTemplate;\n  // Legacy support if template is present\n  const variations = config.blocks?.blocksConfig['listing']?.variations || [];\n  const defaultVariation = variations.filter((item) => item.isDefault)?.[0];\n\n  if (data.template && !data.variation) {\n    const legacyTemplateConfig = variations.find(\n      (item) => item.id === data.template,\n    );\n    ListingBodyTemplate = legacyTemplateConfig.template;\n  } else {\n    ListingBodyTemplate =\n      variation?.template ?? defaultVariation?.template ?? null;\n  }\n\n  const listingRef = createRef();\n\n  return listingItems?.length > 0 ? (\n    <div ref={listingRef}>\n      <ListingBodyTemplate\n        items={listingItems}\n        isEditMode={isEditMode}\n        {...data}\n        {...variation}\n      />\n      {totalPages > 1 && (\n        <div className=\"pagination-wrapper\">\n          <Pagination\n            activePage={currentPage}\n            totalPages={totalPages}\n            onPageChange={(e, { activePage }) => {\n              !isEditMode &&\n                listingRef.current.scrollIntoView({ behavior: 'smooth' });\n              onPaginationChange(e, { activePage });\n            }}\n            firstItem={null}\n            lastItem={null}\n            prevItem={{\n              content: <Icon name={paginationLeftSVG} size=\"18px\" />,\n              icon: true,\n              'aria-disabled': !prevBatch,\n              className: !prevBatch ? 'disabled' : null,\n            }}\n            nextItem={{\n              content: <Icon name={paginationRightSVG} size=\"18px\" />,\n              icon: true,\n              'aria-disabled': !nextBatch,\n              className: !nextBatch ? 'disabled' : null,\n            }}\n          />\n        </div>\n      )}\n    </div>\n  ) : isEditMode ? (\n    <div className=\"listing message\" ref={listingRef}>\n      {isFolderContentsListing && (\n        <FormattedMessage\n          id=\"No items found in this container.\"\n          defaultMessage=\"No items found in this container.\"\n        />\n      )}\n      {hasLoaded && (\n        <FormattedMessage\n          id=\"No results found.\"\n          defaultMessage=\"No results found.\"\n        />\n      )}\n      <Dimmer active={!hasLoaded} inverted>\n        <Loader indeterminate size=\"small\">\n          <FormattedMessage id=\"loading\" defaultMessage=\"Loading\" />\n        </Loader>\n      </Dimmer>\n    </div>\n  ) : (\n    <div>\n      {hasLoaded && (\n        <FormattedMessage\n          id=\"No results found.\"\n          defaultMessage=\"No results found.\"\n        />\n      )}\n      <Dimmer active={!hasLoaded} inverted>\n        <Loader indeterminate size=\"small\">\n          <FormattedMessage id=\"loading\" defaultMessage=\"Loading\" />\n        </Loader>\n      </Dimmer>\n    </div>\n  );\n});\n\nexport default injectIntl(ListingBody);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"No items found in this container.","defaultMessage":"No items found in this container."},{"id":"No results found.","defaultMessage":"No results found."},{"id":"loading","defaultMessage":"Loading"}]}},"sourceType":"module"}