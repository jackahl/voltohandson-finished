{"ast":null,"code":"import _extends from \"/home/jakob/workspace/training-project/node_modules/@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Blocks/Search/layout/RightColumnFacets.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { SearchInput, SearchDetails, Facets, FilterList, SortOn } from '../components';\nimport { Grid, Segment } from 'semantic-ui-react';\nimport { Button } from 'semantic-ui-react';\nimport { flushSync } from 'react-dom';\nimport { defineMessages, useIntl } from 'react-intl';\nconst messages = defineMessages({\n  searchButtonText: {\n    \"id\": \"Search\",\n    \"defaultMessage\": \"Search\"\n  }\n});\n\nconst FacetWrapper = _ref => {\n  let {\n    children\n  } = _ref;\n  return __jsx(Segment, {\n    basic: true,\n    className: \"facet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 3\n    }\n  }, children);\n};\n\n_c = FacetWrapper;\n\nconst RightColumnFacets = props => {\n  _s();\n\n  var _data$facets, _data$facets2, _data$facets3;\n\n  const {\n    children,\n    data,\n    totalItems,\n    facets,\n    setFacets,\n    setSortOn,\n    setSortOrder,\n    sortOn,\n    sortOrder,\n    onTriggerSearch,\n    searchedText,\n    // search text for previous search\n    searchText,\n    // search text currently being entered (controlled input)\n    isEditMode,\n    querystring = {} // searchData,\n    // mode = 'view',\n    // variation,\n\n  } = props;\n  const {\n    showSearchButton\n  } = data;\n  const isLive = !showSearchButton;\n  const intl = useIntl();\n  return __jsx(Grid, {\n    className: \"searchBlock-facets right-column-facets\",\n    stackable: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, __jsx(Grid.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, __jsx(Grid.Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, data.headline && __jsx(\"h2\", {\n    className: \"headline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 29\n    }\n  }, data.headline))), __jsx(Grid.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, __jsx(Grid.Column, {\n    mobile: 12,\n    tablet: (_data$facets = data.facets) !== null && _data$facets !== void 0 && _data$facets.length ? 8 : 12,\n    computer: (_data$facets2 = data.facets) !== null && _data$facets2 !== void 0 && _data$facets2.length ? 9 : 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, (Object.keys(data).includes('showSearchInput') ? data.showSearchInput : true) && __jsx(\"div\", {\n    className: \"search-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, __jsx(SearchInput, _extends({}, props, {\n    isLive: isLive,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  })), data.showSearchButton && __jsx(Button, {\n    primary: true,\n    onClick: () => onTriggerSearch(searchText),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, data.searchButtonLabel || intl.formatMessage(messages.searchButtonText))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, __jsx(FilterList, _extends({}, props, {\n    isEditMode: isEditMode,\n    setFacets: f => {\n      flushSync(() => {\n        setFacets(f);\n        onTriggerSearch(searchedText || '', f);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"search-results-count-sort\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, __jsx(SearchDetails, {\n    text: searchedText,\n    total: totalItems,\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }), data.showSortOn && __jsx(SortOn, {\n    data: data,\n    querystring: querystring,\n    isEditMode: isEditMode,\n    sortOrder: sortOrder,\n    sortOn: sortOn,\n    setSortOn: sortOn => {\n      flushSync(() => {\n        setSortOn(sortOn);\n        onTriggerSearch(searchedText || '', facets, sortOn);\n      });\n    },\n    setSortOrder: sortOrder => {\n      flushSync(() => {\n        setSortOrder(sortOrder);\n        onTriggerSearch(searchedText || '', facets, sortOn, sortOrder);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  })), children), ((_data$facets3 = data.facets) === null || _data$facets3 === void 0 ? void 0 : _data$facets3.length) > 0 && __jsx(Grid.Column, {\n    mobile: 12,\n    tablet: 4,\n    computer: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"facets\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, data.facetsTitle && __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 36\n    }\n  }, data.facetsTitle), __jsx(Facets, {\n    querystring: querystring,\n    data: data,\n    facets: facets,\n    isEditMode: isEditMode,\n    setFacets: f => {\n      flushSync(() => {\n        setFacets(f);\n        onTriggerSearch(searchedText || '', f);\n      });\n    },\n    facetWrapper: FacetWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  })))));\n};\n\n_s(RightColumnFacets, \"rlSgSjbewJ1PrR/Ile8g/kr050o=\", false, function () {\n  return [useIntl];\n});\n\n_c2 = RightColumnFacets;\nexport default RightColumnFacets;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"FacetWrapper\");\n$RefreshReg$(_c2, \"RightColumnFacets\");","map":{"version":3,"names":["React","SearchInput","SearchDetails","Facets","FilterList","SortOn","Grid","Segment","Button","flushSync","defineMessages","useIntl","messages","searchButtonText","FacetWrapper","children","RightColumnFacets","props","data","totalItems","facets","setFacets","setSortOn","setSortOrder","sortOn","sortOrder","onTriggerSearch","searchedText","searchText","isEditMode","querystring","showSearchButton","isLive","intl","headline","length","Object","keys","includes","showSearchInput","searchButtonLabel","formatMessage","f","showSortOn","facetsTitle"],"sources":["/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Blocks/Search/layout/RightColumnFacets.jsx"],"sourcesContent":["import React from 'react';\nimport {\n  SearchInput,\n  SearchDetails,\n  Facets,\n  FilterList,\n  SortOn,\n} from '../components';\nimport { Grid, Segment } from 'semantic-ui-react';\nimport { Button } from 'semantic-ui-react';\nimport { flushSync } from 'react-dom';\nimport { defineMessages, useIntl } from 'react-intl';\n\nconst messages = defineMessages({\n  searchButtonText: {\n    id: 'Search',\n    defaultMessage: 'Search',\n  },\n});\n\nconst FacetWrapper = ({ children }) => (\n  <Segment basic className=\"facet\">\n    {children}\n  </Segment>\n);\n\nconst RightColumnFacets = (props) => {\n  const {\n    children,\n    data,\n    totalItems,\n    facets,\n    setFacets,\n    setSortOn,\n    setSortOrder,\n    sortOn,\n    sortOrder,\n    onTriggerSearch,\n    searchedText, // search text for previous search\n    searchText, // search text currently being entered (controlled input)\n    isEditMode,\n    querystring = {},\n    // searchData,\n    // mode = 'view',\n    // variation,\n  } = props;\n  const { showSearchButton } = data;\n  const isLive = !showSearchButton;\n  const intl = useIntl();\n\n  return (\n    <Grid className=\"searchBlock-facets right-column-facets\" stackable>\n      <Grid.Row>\n        <Grid.Column>\n          {data.headline && <h2 className=\"headline\">{data.headline}</h2>}\n        </Grid.Column>\n      </Grid.Row>\n\n      <Grid.Row>\n        <Grid.Column\n          mobile={12}\n          tablet={data.facets?.length ? 8 : 12}\n          computer={data.facets?.length ? 9 : 12}\n        >\n          {(Object.keys(data).includes('showSearchInput')\n            ? data.showSearchInput\n            : true) && (\n            <div className=\"search-wrapper\">\n              <SearchInput {...props} isLive={isLive} />\n              {data.showSearchButton && (\n                <Button primary onClick={() => onTriggerSearch(searchText)}>\n                  {data.searchButtonLabel ||\n                    intl.formatMessage(messages.searchButtonText)}\n                </Button>\n              )}\n            </div>\n          )}\n\n          <div>\n            <FilterList\n              {...props}\n              isEditMode={isEditMode}\n              setFacets={(f) => {\n                flushSync(() => {\n                  setFacets(f);\n                  onTriggerSearch(searchedText || '', f);\n                });\n              }}\n            />\n          </div>\n\n          <div className=\"search-results-count-sort\">\n            <SearchDetails text={searchedText} total={totalItems} data={data} />\n            {data.showSortOn && (\n              <SortOn\n                data={data}\n                querystring={querystring}\n                isEditMode={isEditMode}\n                sortOrder={sortOrder}\n                sortOn={sortOn}\n                setSortOn={(sortOn) => {\n                  flushSync(() => {\n                    setSortOn(sortOn);\n                    onTriggerSearch(searchedText || '', facets, sortOn);\n                  });\n                }}\n                setSortOrder={(sortOrder) => {\n                  flushSync(() => {\n                    setSortOrder(sortOrder);\n                    onTriggerSearch(\n                      searchedText || '',\n                      facets,\n                      sortOn,\n                      sortOrder,\n                    );\n                  });\n                }}\n              />\n            )}\n          </div>\n          {children}\n        </Grid.Column>\n\n        {data.facets?.length > 0 && (\n          <Grid.Column mobile={12} tablet={4} computer={3}>\n            <div className=\"facets\">\n              {data.facetsTitle && <h3>{data.facetsTitle}</h3>}\n              <Facets\n                querystring={querystring}\n                data={data}\n                facets={facets}\n                isEditMode={isEditMode}\n                setFacets={(f) => {\n                  flushSync(() => {\n                    setFacets(f);\n                    onTriggerSearch(searchedText || '', f);\n                  });\n                }}\n                facetWrapper={FacetWrapper}\n              />\n            </div>\n          </Grid.Column>\n        )}\n      </Grid.Row>\n    </Grid>\n  );\n};\n\nexport default RightColumnFacets;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"Search","defaultMessage":"Search"}]}},"sourceType":"module"}