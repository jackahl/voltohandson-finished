{"ast":null,"code":"var _jsxFileName = \"/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Blocks/Image/ImageSidebar.jsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Segment } from 'semantic-ui-react';\nimport { useIntl, FormattedMessage } from 'react-intl';\nimport { BlockDataForm, Icon } from '@plone/volto/components';\nimport { isInternalURL, flattenToAppURL } from '@plone/volto/helpers';\nimport { ImageSchema } from './schema';\nimport imageSVG from '@plone/volto/icons/image.svg';\n\nconst ImageSidebar = props => {\n  const {\n    data,\n    block,\n    onChangeBlock\n  } = props;\n  const intl = useIntl();\n  const schema = ImageSchema({\n    formData: data,\n    intl\n  });\n  return __jsx(React.Fragment, null, __jsx(\"header\", {\n    className: \"header pulled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"Image\",\n    defaultMessage: \"Image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 11\n    }\n  }))), __jsx(Segment, {\n    className: \"sidebar-metadata-container\",\n    secondary: true,\n    attached: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }, data.url ? __jsx(React.Fragment, null, data.url.split('/').slice(-1)[0], isInternalURL(data.url) && __jsx(\"img\", {\n    src: `${flattenToAppURL(data.url)}/@@images/image/mini`,\n    alt: data.alt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 15\n    }\n  }), !isInternalURL(data.url) && __jsx(\"img\", {\n    src: data.url,\n    alt: data.alt,\n    style: {\n      width: '50%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 15\n    }\n  })) : __jsx(React.Fragment, null, __jsx(FormattedMessage, {\n    id: \"No image selected\",\n    defaultMessage: \"No image selected\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }), __jsx(Icon, {\n    name: imageSVG,\n    size: \"100px\",\n    color: \"#b8c6c8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }))), __jsx(BlockDataForm, {\n    schema: schema,\n    title: schema.title,\n    onChangeField: (id, value) => {\n      onChangeBlock(block, _objectSpread(_objectSpread({}, data), {}, {\n        [id]: value\n      }));\n    },\n    formData: data,\n    block: block,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }));\n};\n\nImageSidebar.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any).isRequired,\n  block: PropTypes.string.isRequired,\n  onChangeBlock: PropTypes.func.isRequired\n};\nexport default ImageSidebar;","map":{"version":3,"names":["React","PropTypes","Segment","useIntl","FormattedMessage","BlockDataForm","Icon","isInternalURL","flattenToAppURL","ImageSchema","imageSVG","ImageSidebar","props","data","block","onChangeBlock","intl","schema","formData","url","split","slice","alt","width","title","id","value","propTypes","objectOf","any","isRequired","string","func"],"sources":["/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/manage/Blocks/Image/ImageSidebar.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Segment } from 'semantic-ui-react';\nimport { useIntl, FormattedMessage } from 'react-intl';\nimport { BlockDataForm, Icon } from '@plone/volto/components';\nimport { isInternalURL, flattenToAppURL } from '@plone/volto/helpers';\nimport { ImageSchema } from './schema';\nimport imageSVG from '@plone/volto/icons/image.svg';\n\nconst ImageSidebar = (props) => {\n  const { data, block, onChangeBlock } = props;\n  const intl = useIntl();\n  const schema = ImageSchema({ formData: data, intl });\n  return (\n    <>\n      <header className=\"header pulled\">\n        <h2>\n          <FormattedMessage id=\"Image\" defaultMessage=\"Image\" />\n        </h2>\n      </header>\n\n      <Segment className=\"sidebar-metadata-container\" secondary attached>\n        {data.url ? (\n          <>\n            {data.url.split('/').slice(-1)[0]}\n            {isInternalURL(data.url) && (\n              <img\n                src={`${flattenToAppURL(data.url)}/@@images/image/mini`}\n                alt={data.alt}\n              />\n            )}\n            {!isInternalURL(data.url) && (\n              <img src={data.url} alt={data.alt} style={{ width: '50%' }} />\n            )}\n          </>\n        ) : (\n          <>\n            <FormattedMessage\n              id=\"No image selected\"\n              defaultMessage=\"No image selected\"\n            />\n            <Icon name={imageSVG} size=\"100px\" color=\"#b8c6c8\" />\n          </>\n        )}\n      </Segment>\n      <BlockDataForm\n        schema={schema}\n        title={schema.title}\n        onChangeField={(id, value) => {\n          onChangeBlock(block, {\n            ...data,\n            [id]: value,\n          });\n        }}\n        formData={data}\n        block={block}\n      />\n    </>\n  );\n};\n\nImageSidebar.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any).isRequired,\n  block: PropTypes.string.isRequired,\n  onChangeBlock: PropTypes.func.isRequired,\n};\n\nexport default ImageSidebar;\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[{"id":"Image","defaultMessage":"Image"},{"id":"No image selected","defaultMessage":"No image selected"}]}},"sourceType":"module"}