{"ast":null,"code":"var _jsxFileName = \"/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/theme/Widgets/FileWidget.jsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport cx from 'classnames';\nimport { flattenToAppURL } from '@plone/volto/helpers';\nimport { UniversalLink } from '@plone/volto/components';\n\nconst niceBytes = bytes => {\n  bytes = Number(bytes);\n  const divider = 1024;\n  const magnitude = Math.log(bytes) / Math.log(divider) | 0;\n  const result = bytes / Math.pow(divider, magnitude);\n  const fixed = result.toFixed(0);\n  const suffix = magnitude ? 'kMGTPEZY'[magnitude - 1] + 'B' : 'B';\n  return fixed + suffix;\n};\n\nconst FileWidget = _ref => {\n  let {\n    value,\n    children,\n    className\n  } = _ref;\n\n  if (!value) {\n    return '';\n  }\n\n  const url = flattenToAppURL(value.download || value.filename || value);\n  const filename = value.filename || url;\n  const size = value.data ? value.data.length * 0.75 : value.size || 0;\n  const ctype = value['content-type'] || '';\n  return __jsx(UniversalLink, {\n    title: ctype || filename,\n    href: url,\n    className: cx(className, 'file', 'widget'),\n    \"data-size\": size,\n    \"data-size-fmt\": niceBytes(size),\n    \"data-content-type\": ctype,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, children ? children(filename) : filename);\n};\n\n_c = FileWidget;\nexport default FileWidget;\n\nvar _c;\n\n$RefreshReg$(_c, \"FileWidget\");","map":{"version":3,"names":["React","cx","flattenToAppURL","UniversalLink","niceBytes","bytes","Number","divider","magnitude","Math","log","result","pow","fixed","toFixed","suffix","FileWidget","value","children","className","url","download","filename","size","data","length","ctype"],"sources":["/home/jakob/workspace/training-project/node_modules/@plone/volto/src/components/theme/Widgets/FileWidget.jsx"],"sourcesContent":["import React from 'react';\nimport cx from 'classnames';\nimport { flattenToAppURL } from '@plone/volto/helpers';\nimport { UniversalLink } from '@plone/volto/components';\n\nconst niceBytes = (bytes) => {\n  bytes = Number(bytes);\n\n  const divider = 1024;\n  const magnitude = (Math.log(bytes) / Math.log(divider)) | 0;\n  const result = bytes / Math.pow(divider, magnitude);\n  const fixed = result.toFixed(0);\n\n  const suffix = magnitude ? 'kMGTPEZY'[magnitude - 1] + 'B' : 'B';\n\n  return fixed + suffix;\n};\n\nconst FileWidget = ({ value, children, className }) => {\n  if (!value) {\n    return '';\n  }\n\n  const url = flattenToAppURL(value.download || value.filename || value);\n  const filename = value.filename || url;\n  const size = value.data ? value.data.length * 0.75 : value.size || 0;\n  const ctype = value['content-type'] || '';\n  return (\n    <UniversalLink\n      title={ctype || filename}\n      href={url}\n      className={cx(className, 'file', 'widget')}\n      data-size={size}\n      data-size-fmt={niceBytes(size)}\n      data-content-type={ctype}\n    >\n      {children ? children(filename) : filename}\n    </UniversalLink>\n  );\n};\n\nexport default FileWidget;\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,SAASC,aAAT,QAA8B,yBAA9B;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAAW;EAC3BA,KAAK,GAAGC,MAAM,CAACD,KAAD,CAAd;EAEA,MAAME,OAAO,GAAG,IAAhB;EACA,MAAMC,SAAS,GAAIC,IAAI,CAACC,GAAL,CAASL,KAAT,IAAkBI,IAAI,CAACC,GAAL,CAASH,OAAT,CAAnB,GAAwC,CAA1D;EACA,MAAMI,MAAM,GAAGN,KAAK,GAAGI,IAAI,CAACG,GAAL,CAASL,OAAT,EAAkBC,SAAlB,CAAvB;EACA,MAAMK,KAAK,GAAGF,MAAM,CAACG,OAAP,CAAe,CAAf,CAAd;EAEA,MAAMC,MAAM,GAAGP,SAAS,GAAG,WAAWA,SAAS,GAAG,CAAvB,IAA4B,GAA/B,GAAqC,GAA7D;EAEA,OAAOK,KAAK,GAAGE,MAAf;AACD,CAXD;;AAaA,MAAMC,UAAU,GAAG,QAAoC;EAAA,IAAnC;IAAEC,KAAF;IAASC,QAAT;IAAmBC;EAAnB,CAAmC;;EACrD,IAAI,CAACF,KAAL,EAAY;IACV,OAAO,EAAP;EACD;;EAED,MAAMG,GAAG,GAAGlB,eAAe,CAACe,KAAK,CAACI,QAAN,IAAkBJ,KAAK,CAACK,QAAxB,IAAoCL,KAArC,CAA3B;EACA,MAAMK,QAAQ,GAAGL,KAAK,CAACK,QAAN,IAAkBF,GAAnC;EACA,MAAMG,IAAI,GAAGN,KAAK,CAACO,IAAN,GAAaP,KAAK,CAACO,IAAN,CAAWC,MAAX,GAAoB,IAAjC,GAAwCR,KAAK,CAACM,IAAN,IAAc,CAAnE;EACA,MAAMG,KAAK,GAAGT,KAAK,CAAC,cAAD,CAAL,IAAyB,EAAvC;EACA,OACE,MAAC,aAAD;IACE,KAAK,EAAES,KAAK,IAAIJ,QADlB;IAEE,IAAI,EAAEF,GAFR;IAGE,SAAS,EAAEnB,EAAE,CAACkB,SAAD,EAAY,MAAZ,EAAoB,QAApB,CAHf;IAIE,aAAWI,IAJb;IAKE,iBAAenB,SAAS,CAACmB,IAAD,CAL1B;IAME,qBAAmBG,KANrB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAQGR,QAAQ,GAAGA,QAAQ,CAACI,QAAD,CAAX,GAAwBA,QARnC,CADF;AAYD,CArBD;;KAAMN,U;AAuBN,eAAeA,UAAf"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}